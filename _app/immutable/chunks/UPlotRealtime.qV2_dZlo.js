import{s as _,e as F,c as x,b as w,f as y,i as S,n as d,l as G}from"./scheduler.C19aQTI2.js";import{S as C,i as P}from"./index.B0knyX5n.js";import{u as U}from"./uPlot.min.Sk6Afor8.js";function j(n,t,i){let s=[[]],f=[],m=n.colors?n.colors:["blue","red","orange","green"];for(let a=0;a<t.length;a++)f.push({label:t[a].props.name,scale:"y",value:(r,l)=>l==null?"-":l.toFixed(1)+(n.units||"km/h"),stroke:m[a]}),s.push([]);const o={title:n.title||"Speed",width:300,height:300,cursor:{drag:{setScale:!1}},select:{show:!1},series:[{},...f],scales:{x:{time:!1},y:{}},axes:[{},{space:60,scale:"y",values:(a,r,l)=>r.map(c=>+c.toFixed(1)),side:1,grid:{show:!1}}]};let u=new U(Object.assign(o,n),s,i);return{setData:a=>{u.setData(a)},updateData:(a,r)=>{s[0].push(a/1e3);for(let l=0;l<r.length;l++){let c=r[l]||0;s[l+1]&&s[l+1].push(c)}u.setData(s)}}}function q(n){let t;return{c(){t=F("div")},l(i){t=x(i,"DIV",{}),w(t).forEach(y)},m(i,s){S(i,t,s),n[8](t)},p:d,i:d,o:d,d(i){i&&y(t),n[8](null)}}}function H(n,t,i){let{title:s}=t,{units:f}=t,{colors:m=null}=t,{key:o}=t,{transformFn:u}=t,{time:a}=t,{observed:r}=t,l,c;const b=e=>{if(l){let h=r.map(g=>u?u(g.state[o]):g.state[o]);l.updateData(e,h)}};function k(e,h){e&&h&&(h.innerHTML="",l=j({title:s,units:f,key:o,transformFn:u,colors:m},e,h))}function D(e){G[e?"unshift":"push"](()=>{c=e,i(0,c)})}return n.$$set=e=>{"title"in e&&i(1,s=e.title),"units"in e&&i(2,f=e.units),"colors"in e&&i(3,m=e.colors),"key"in e&&i(4,o=e.key),"transformFn"in e&&i(5,u=e.transformFn),"time"in e&&i(6,a=e.time),"observed"in e&&i(7,r=e.observed)},n.$$.update=()=>{n.$$.dirty&129&&k(r,c),n.$$.dirty&64&&b(a)},[c,s,f,m,o,u,a,r,D]}class O extends C{constructor(t){super(),P(this,t,H,q,_,{title:1,units:2,colors:3,key:4,transformFn:5,time:6,observed:7})}}export{O as U};
