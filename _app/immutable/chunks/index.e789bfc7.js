function Me(t,e,n=63){return t/(n/100*Math.PI)*e*60}function bt(t,e,n,r=63){return t/60/(e*n)*(r/100*Math.PI)}function xe(t,e){return t>=1?.85:.96}function ue(t,e,n){let i=.005+.4*(.01+.0095*Math.pow(t/28,2)),a=1+e*.4;return n*9.81*i*a}function kt(t,e=63){let n=e/100*Math.PI;return t/n}function be(t,e,n){let r=ue(t,0,e),l=ce(t,n);return r+l}function Tt(t,e,n){let r=be(t,e,n),l=xe(1);return t*(r/l)/1e3}function Z(t,e,n,r=63){if(!t)return null;let l=n||ke(e),i=t*l*e,a=r/100/2;return i/a}function ke(t){let i=.007333333333333332,a=(t-5)*i;return Math.max(.96-a,.85)}function Te(t,e){return t===null?null:e?t*e/9549:0}function ce(t,e){return .6*Math.pow(t,2)*e}function ee(t,e){var n=t.find(u=>u[0]===e);if(n)return n[1];var r=t.findIndex(u=>u[0]>e);if(r<=0)return null;var l=t[r-1],i=t[r],a=i[0]-l[0],s=(e-l[0])/a,o=i[1]-l[1];return l[1]+o*s}let Ce=0;function Ct(t){return{id:Ce++,props:t,state:{speed:0,engineRpm:0,enginePower:0,engineTorque:0,force:0,acceleration:0,airDrag:0,throttleInput:0,brakeInput:0,gearInput:0}}}function At(t,e){let n=e/1e3;const{engine:r,gearRatio:l,driveRatio:i,gearSpeed:a,gearTransfer:s,weight:o,dragCoef:u,dragArea:c,brakePadsForce:g,wheelDiameter:d}=t.props,{speed:m,engineRpm:p,throttleInput:f,brakeInput:C,gearInput:M}=t.state;let _=ue(m,t.state.acceleration,o),b=ce(m,u*c),k=ee(r.torqueCurve,p)*f,$=Te(k,p),L=C*g;const y=o;let x=i*l[M]*(s?s[0]:1),w=Z(k,x,null,d);l[l.length-1]/l[M]*a;let F=r.minRPM||1e3,D=Math.max(Me(m,x,d),F);if(t.props.type==="plane")if(t.props.engine.thrust)w=t.props.engine.thrust*f,console.log(w);else{D=2700;const I=5.325,N=200;k=ee(r.torqueCurve,p),w=Z(k,I,1,N)}let A=(w-b-_-L)/y,j=A*n,R={speed:Math.max(m+(j||0),0),engineRpm:D,acceleration:A,thrustForce:w,aeroDragForce:b,torque:k,power:$};return Object.assign(t,{state:Object.assign(t.state,R)})}const O=[{name:null,brand:null,trim:null,year:null,unitsProduced:null,price:null,engine:{name:null,hp:null,torqueY:[],torqueX:[],type:null,layout:null,displacement:null},engines:[{engine:null}],gearName:null,gearRatio:[],gearReverse:null,gearTransfer:null,driveRatio:null,gearSpeed:null,wheelDiameter:null,type:null,weight:null,length:null,width:null,height:null,dragCoef:null,dragArea:null,wheelbase:null,bodyType:null,clearance:null,trunk:null,trunkMax:null,seats:null,acc0100:null,vmax:null,avgConsumption:null,energyTank:null,autonomy:null,turningCircle:null,wheelType:null,groundRoll:null,takeOffSpeed:null,wingArea:null,liftDragRatio:null,model:null,modelWheel:null,modelMisc:null,wheelScale:null,trims:[{trim:null}],options:[{name:null}],id:"_default"},{name:"baker electric",brand:"Baker",trim:"model VI",year:1909,price:"$2,800",engine:{name:"baker 8hp",hp:8,torqueY:[112,112.4,93.6,80.3,70.2,62.4,56.2,51.1,46.8,43.2,40.1,37.5,35.1,33.1,31.2,29.6,28.1,26,23,20,16,10],torqueX:[0,500,600,700,800,900,1e3,1100,1200,1300,1400,1500,1600,1700,1800,1900,2e3,2100,2200,2300,2400,2500],type:"electric",layout:null,displacement:null},gearName:null,gearRatio:[1],gearReverse:null,gearTransfer:null,driveRatio:10,gearSpeed:null,wheelDiameter:91,type:null,weight:950,length:3200,width:1549,height:2250,dragCoef:.6,dragArea:3.4,wheelbase:2235,trunk:null,trunkMax:null,seats:4,acc0100:null,vmax:35,avgConsumption:null,energyTank:12,autonomy:160,turningCircle:null,wheelType:null,model:"bakerElectric1909",modelWheel:"wheelBaker",modelMisc:null,options:[{name:null}],id:"bakerelectric"},{name:737,brand:"Boeing",trim:"737-100",year:1967,price:"3,700,000$",unitsProduced:10600,engine:{name:"2x Pratt & Whitney JT8D-7 Turbofan",hp:4e4,thrust:128e3,torqueY:[],torqueX:[],type:null,layout:null,displacement:null},gearName:null,gearRatio:[1],gearReverse:null,gearTransfer:null,driveRatio:null,gearSpeed:null,wheelDiameter:102,type:"plane",weight:49895,length:28650,width:28350,height:11230,dragCoef:.35,dragArea:11.1,wheelbase:10460,bodyType:null,clearance:null,trunk:18400,trunkMax:null,seats:"85 / 96, max. 124",acc0100:null,vmax:852,avgConsumption:null,energyTank:17867,autonomy:3185,turningCircle:34.4,wheelType:null,groundRoll:1800,takeOffSpeed:280,wingArea:102,liftDragoRatio:13.5,model:"boeing737100",modelWheel:"wheelBoeing737",modelMisc:null,wheelScale:[.605,.605,1,1,1,1],trims:[{trim:null}],options:[{name:null}],id:"boeing_737"},{name:797,brand:"Caterpillar",trim:"797B",year:2002,price:"$3,400,000",unitsProduced:1190,engine:{name:"3524B HD EUI",hp:"3550 hp",torqueY:[16535,16300,16e3,14200,11500],torqueX:[260,500,1500,1750,1900],type:null,layout:"2xv12",displacement:117100},engines:[{engine:null}],gearName:null,gearRatio:[5.98,4.45,3.3,2.44,1.82,1.35,1],gearReverse:null,gearTransfer:null,gearEfficiency:.949,driveRatio:21.09,gearSpeed:null,wheelDiameter:402,type:null,weight:265003,length:14530,width:9761,height:7083,dragCoef:.6,dragArea:66,wheelbase:7224,bodyType:"haultruck",clearance:null,trunk:null,trunkMax:null,maxWheight:623700,seats:null,acc0100:null,vmax:"68km/h",avgConsumption:753,energyTank:6813,autonomy:null,turningCircle:40.5,wheelType:"59/80R63",model:"caterpillar797b",modelWheel:"wheel797b",modelMisc:null,trims:[{trim:null}],options:[{name:null}],id:"caterpillar_797"},{name:172,brand:"cessna",trim:"172s",year:1998,price:"155,000$",unitsProduced:"44,000",engine:{name:"Lycoming IO-360-L2A",hp:180,torqueY:[26,280,468],torqueX:[800,2e3,2700],type:"avgas",layout:"h4",displacement:5916},engines:[{engine:null}],gearName:null,gearRatio:[1],gearReverse:null,gearTransfer:null,driveRatio:1,gearSpeed:null,wheelDiameter:42,type:"plane",weight:870,length:8280,width:11e3,height:2720,dragCoef:.35,dragArea:2.8,wheelbase:null,bodyType:"plane",clearance:null,trunk:null,trunkMax:null,seats:4,maxWeight:1157,acc0100:null,vmax:232,avgConsumption:13.5,energyTank:212,autonomy:null,turningCircle:null,wheelType:null,groundRoll:"293m",takeOffSpeed:115,propellerForce:"2090N",liftDragRatio:10,model:"cessna172",modelWheel:"wheelCessna",modelMisc:null,trims:[{trim:null}],options:[{name:null}],id:"cessna_172"},{name:"2cv",brand:"citroen",year:1953,price:"5000fr",unitsProduced:"5,114,961",engine:{name:"A",torqueY:[9.6,17.1,19.6,19.6,19.4,18.9,18,14.2],torqueX:[1e3,1500,2e3,2200,2500,3e3,3500,4e3],layout:"boxer 2",displacement:375,hp:9},gearRatio:[6.71,3.24,1.93,1.3],driveRatio:3.875,gearSpeed:23.4,wheelDiameter:63,weight:610,length:3780,width:1480,height:1600,dragCoef:.55,dragArea:1.97,wheelbase:2400,trunk:320,trunkMax:null,seats:5,acc0100:null,turningCircle:10.5,energyTank:25,vmax:65,avgConsumption:"4-5l/100",model:"citroen2cv",modelWheel:"wheel2cv",trims:[{trim:"Azam",year:1963,engine:{name:"A79/0",hp:18,torqueY:[13.3,26,28,29,26.6,25.3],torqueX:[1e3,2e3,3e3,3500,4e3,5e3],displacement:425},gearRatio:[6.757,3.257,1.938,1.475],gearReverse:7.3,driveRatio:3.62,vmax:95,weight:665},{trim:"2cv 4",year:1970,engine:{name:"A79/1",hp:23,torqueY:[13.3,28,24],torqueX:[1e3,4e3,6750],displacement:425},gearRatio:[5.202,2.656,1.785,1.315],gearReverse:5.202,driveRatio:4.125,weight:665,vmax:102,avgConsumption:5.4},{trim:"2cv 6",year:1971,engine:{name:"M28",hp:33,torqueY:[13,23,38,37,41,40,37],torqueX:[1e3,2e3,2500,3500,4e3,5750,6e3],displacement:602},gearRatio:[5.202,2.656,1.785,1.315],gearReverse:5.202,driveRatio:4.125,weight:665,vmax:110,avgConsumption:6.1}],id:"citroen_2cv"},{name:"ami",brand:"citroen",trim:null,year:2020,engine:{name:null,hp:"8hp",torqueY:[625,312,208,156,125,89,62,41,31,25,21,18,16,13,7,0],torqueX:[0,200,300,400,500,700,1e3,1500,2e3,2500,3e3,3500,4e3,5e3,8e3,1e4],type:"electric",layout:null,displacement:null},gearRatio:[1],driveRatio:12,gearSpeed:8.8,wheelDiameter:56,type:"FWD",weight:562,length:2410,width:1390,height:1520,dragCoef:.45,dragArea:2.1,wheelbase:1728,trunk:68,trunkMax:null,seats:2,acc0100:null,vmax:45,avgConsumption:null,energyTank:5.35,autonomy:70,turningCircle:7.2,wheelType:"155/65R14",model:"citroenAmi",modelWheel:"wheelAmi",trims:[{trim:null}],id:"citroen_ami"},{name:"ln",brand:"citroen",year:1976,engine:{torqueY:[19.8,29.7,34.6,37.6,39.6,41,41,41,40.9,40.8,33.7],torqueX:[1e3,1500,2e3,2500,3e3,3500,4e3,4500,5e3,5500,6e3],hp:32,displacement:602,layout:"boxer2"},gearRatio:[4.55,2.5,1.81,1.15],driveRatio:4.375,gearSpeed:20.7,wheelDiameter:55,weight:705,length:3380,width:1520,height:1370,dragCoef:.43,dragArea:1.73,wheelbase:2230,trunk:null,trunkMax:null,seats:4,acc0100:29.3,vmax:120,turningCircle:9.4,energyTank:40,wheelType:"135SR13",model:"citroenLn",modelWheel:"wheelLn",id:"citroen_ln"},{name:"logan mcv",brand:"dacia",trim:"logan mcv 70hp",year:2006,engine:{name:"1.5 dci 70 k9k",hp:67,torqueY:[95.2,154.7,160,159.3,155.1,147,135.1,119.4,99.3],torqueX:[1e3,1500,1700,2e3,2500,3e3,3500,4e3,4500],layout:"l4",displacement:1461},gearRatio:[3.73,2.05,1.32,.97,.75],driveRatio:3.87,gearSpeed:40.4,wheelDiameter:63,type:"FWD",weight:1320,length:4450,width:1740,height:1636,dragCoef:.36,dragArea:2.36,wheelbase:2900,trunk:198,trunkMax:2350,seats:7,acc0100:17.7,vmax:150,turningCircle:11.25,energyTank:50,wheelType:"185/65/15",trims:[{trim:null}],model:"DaciaLogan",modelWheel:"wheelDaciaLogan",id:"dacia_logan"},{name:"xf",brand:"daf",trim:"xf480 4x2 36",year:2017,price:"100000€",engine:{name:"PACCAR MX-11 330",hp:449,torqueY:[1900,2300,2300,2200,1970,1580],torqueX:[800,900,1125,1400,1600,1800],type:"diesel",layout:"l6",displacement:10800},engines:[{engine:null}],gearName:"ZF TraXon 12tx",gearRatio:[12.92,9.98,7.69,5.94,4.57,3.53,2.83,2.19,1.68,1.3,1,.77],gearReverse:[12.03,9.29,2.64,2.04],gearTransfer:null,driveRatio:2.21,gearSpeed:null,wheelDiameter:92.6,type:"RWD",weight:7020,length:5960,width:2500,height:3910,dragCoef:.4,dragArea:7.5,wheelbase:3600,bodyType:"semi",clearance:null,trunk:null,trunkMax:null,seats:null,acc0100:null,vmax:null,avgConsumption:28,energyTank:863,autonomy:null,turningCircle:null,wheelType:"295/60R22.5",model:null,modelWheel:null,modelMisc:null,trims:[{trim:null}],options:[{name:null}],id:"daf_xf"},{name:500,brand:"Fiat",trim:500,year:2007,engine:{name:"1.3 Multijet",hp:75,torqueY:[109.2,145,145,145,145,145,145,132,110],torqueX:[1e3,1500,1750,2e3,2500,3e3,3500,4e3,4500],type:"diesel",layout:"l4",displacement:1248},gearRatio:[3.909,2.158,1.345,.974,.766],driveRatio:3.44,gearSpeed:41.8,wheelDiameter:58.4,type:"FWD",weight:1020,length:3546,width:1627,height:1488,dragCoef:.325,dragArea:2.01,wheelbase:2300,trunk:182,trunkMax:560,seats:5,acc0100:12.5,vmax:165,turningCircle:9.28,avgConsumption:4.2,energyTank:35,autonomy:null,wheelType:null,model:"Fiat500",modelWheel:null,trims:[{trim:"500C",year:2009,trunk:150,trunkMax:150}],id:"fiat_500"},{name:"Tipo",brand:"Fiat",trim:null,year:2016,price:null,engine:{name:"1.4 16V",hp:95,torqueY:[58.6,87.9,102.6,111.4,117.2,121.4,124.6,127,125.3,120.1,111.4,92.6],torqueX:[1e3,1500,2e3,2500,3e3,3500,4e3,4500,5e3,5500,6e3,6500],type:"petrol",layout:"l4",displacement:1368},engines:[{engine:{name:"1.4 T-Jet",hp:120,torqueY:[100,130,200,215,200,180,168,130],torqueX:[1e3,1500,1800,2500,3500,3800,5e3,6e3]},weight:1275,avgConsumption:6,vmax:200},{engine:{name:"1.3 Multijet",hp:95,torqueY:[100,200,178,140],torqueX:[1e3,1500,3750,4500],displacement:1248},gearRatio:[4.273,2.238,1.444,1.029,.767],driveRatio:3.733,gearReverse:3.909,weight:1290,avgConsumption:3.7,vmax:180},{engine:{name:"1.6 Multijet",hp:120,displacement:1598},weight:1295,avgConsumption:3.7,vmax:200},{engine:{name:"1.3 Multijet"}}],gearName:null,gearRatio:[3.9,2.174,1.345,.974,.766,.646],gearReverse:3.818,driveRatio:4.923,gearSpeed:37.6,wheelDiameter:63,type:"FWD",weight:1195,length:4368,width:1792,height:1495,dragCoef:.3,dragArea:2.22,wheelbase:2638,bodyType:"hatchback",clearance:null,trunk:440,trunkMax:null,seats:5,acc0100:11.5,vmax:185,avgConsumption:5.7,energyTank:50,autonomy:null,turningCircle:10.93,wheelType:"205/55 R16",model:null,modelWheel:null,modelMisc:null,trims:[{trim:null}],options:[{name:null}],id:"fiat_tipo"},{name:"model T",brand:"ford",trim:null,year:null,price:"$850",engine:{name:null,hp:null,torqueY:[],torqueX:[],type:null,layout:null,displacement:null},engines:[{engine:null}],gearName:null,gearRatio:[],gearReverse:null,gearTransfer:null,driveRatio:null,gearSpeed:null,wheelDiameter:null,type:null,weight:null,length:null,width:null,height:null,dragCoef:null,dragArea:null,wheelbase:null,trunk:null,trunkMax:null,seats:null,acc0100:null,vmax:null,avgConsumption:null,energyTank:null,autonomy:null,turningCircle:null,wheelType:null,model:null,modelWheel:null,modelMisc:null,trims:[{trim:null}],options:[{name:null}],id:"ford_modelT"},{name:"Cascadia",brand:"Freightliner",trim:null,year:2007,price:"$160.000 - $240.000",engine:{name:"DD13",hp:450,torqueY:[1230,1310,2330,2375,2330,2135,600],torqueX:[500,600,900,1e3,1300,1500,1900],type:"diesel",layout:"l6",displacement:12800},engines:[{engine:null}],gearName:"Allison 4000 auto",gearRatio:[3.51,1.91,1.43,1,.74,.64],gearReverse:null,gearTransfer:null,driveRatio:2.85,gearSpeed:null,wheelDiameter:101,type:null,weight:15e3,length:9600,width:2600,height:4200,dragCoef:.38,dragArea:10,wheelbase:6900,bodyType:"semitruckus",clearance:null,trunk:null,trunkMax:null,seats:null,acc0100:null,vmax:null,avgConsumption:null,energyTank:null,autonomy:null,turningCircle:null,wheelType:null,model:null,modelWheel:null,modelMisc:null,trims:[{trim:null}],options:[{name:null}],id:"freightliner_cascadia"},{name:"i20 II",trim:"1.2 (84)",brand:"hyundai",year:2015,engine:"hyundai_petrol_1.2_84",gearRatio:[3.727,2.056,1.269,.906,.719],driveRatio:4.6,gearSpeed:35.4,weight:1050,length:4035,width:1734,height:1474,dragCoef:.3,dragArea:2.12,wheelbase:2570,trunk:326,trunkMax:null,seats:5,acc0100:13.1,vmax:176,turningCircle:10.2,energyTank:50,id:"hyundai_i20"},{name:"Defender",brand:"Land Rover",trim:"defender 90",year:1984,unitsProduced:"665,000",engine:{name:"NA2.5D 67hp",hp:67,torqueY:[89.4,140,154,148,128,118,78.6],torqueX:[1e3,1500,1800,2500,3500,4e3,4500],type:"diesel",layout:"l4",displacement:2495},engines:[{engine:{name:"2.3P 74hp",hp:74,torqueY:[80,150,163,132,100],torqueX:[1e3,1500,2e3,4e3,4500],type:"petrol",layout:"l4",displacement:2286},year:1983,weight:1675},{engine:{name:"2.5P",hp:83,torqueY:[85,160,175,142,110],torqueX:[1e3,1500,2e3,4e3,4500],type:"petrol",layout:"l4",displacement:2495},vmax:120,year:1985,weight:1675},{engine:{name:"V8 3.5L",hp:114,torqueY:[85,160,175,251,200,170],torqueX:[1e3,1500,2e3,2500,4e3,4500],type:"petrol",layout:"v8",displacement:3528},weight:1671,gearName:"LT95",gearRatio:[4.069,2.448,1.505,1],gearTransfer:[1.336,3.32],gearSpeed:30.3},{engine:{name:"V8 3.5L"},gearName:"LT85",gearRatio:[3.65,2.18,1.436,1,.7951],gearTransfer:[1.192,3.32],weight:1671}],gearName:"LT77",gearRatio:[3.585,2.3,1.5074,1,.8314],gearReverse:3.7,gearTransfer:[1.667,3.32],driveRatio:3.538,gearSpeed:29.2,wheelDiameter:76,type:"AWD",weight:1712,length:3883,width:1790,height:1963,dragCoef:.6,dragArea:3.42,wheelbase:2360,trunk:212,trunkMax:850,seats:7,acc0100:25,vmax:113,avgConsumption:11,energyTank:60,autonomy:null,turningCircle:null,wheelType:"205R16",model:"landroverDefender90",modelWheel:"wheelDefender",modelMisc:"Wheel1B",trims:[{trim:"defender 110",year:1983,length:4600,wheelbase:2794,weight:1806,seats:9,model:"landroverDefender110",engine:{name:"2.3D 60hp",hp:60,torqueY:[89.4,128,136,135,134,132,117,106,78.6],torqueX:[1e3,1500,1800,2e3,2500,3e3,3500,4e3,4500]},gearRatio:[3.321,1.798,1,.757],driveRatio:4.7,gearSpeed:24.2,engines:[{engine:{name:"2.3P 74hp"},weight:1787},{engine:{name:"2.5P"},weight:1787},{engine:{name:"V8 3.5L"},gearName:"LT85",gearRatio:[3.65,2.18,1.436,1,.7951],gearTransfer:[1.41,3.32],weight:1762}]}],options:null,id:"landrover_defender"},{name:"2 (III)",brand:"mazda",trim:null,year:2014,engine:{name:"skyactiv-g 1.5 (90)",hp:90,torqueY:[69.6,85,100,115,139.3,144.3,148,140.1,126.1,114.6,105,87.3],torqueX:[1e3,1500,2e3,2500,3e3,3500,4e3,4500,5e3,5500,6e3,6500],type:"petrol",layout:"l4",displacement:1496},gearRatio:[3.583,1.904,1.218,.918,.717],driveRatio:3.672,gearSpeed:45.1,wheelDiameter:63,weight:975,length:4060,width:1695,height:1495,dragCoef:.29,dragArea:2.1,wheelbase:2570,trunk:280,trunkMax:null,seats:5,acc0100:9.7,vmax:183,turningCircle:9.4,energyTank:44,autonomy:null,wheelType:"185/65/15",trims:[{trim:null}],model:null,modelWheel:null,id:"mazda_2_v3"},{name:"micra",brand:"nissan",trim:80,year:2013,engine:{name:"HR12DE",hp:80,torqueY:[51.8,77.7,90.6,103.5,110.1,109.1,106.1,100.9,93.6,78],torqueX:[1e3,1500,2e3,3e3,4e3,4500,5e3,5500,6e3,6500],minRPM:1500,type:"petrol",layout:"l3",displacement:1198},gearRatio:[3.727,2.048,1.393,1.097,.892],driveRatio:3.49,gearSpeed:36.3,wheelDiameter:60,type:"FWD",weight:1055,length:3825,width:1665,height:1520,dragCoef:.32,dragArea:2.11,wheelbase:2450,trunk:265,trunkMax:null,seats:5,acc0100:13.7,vmax:170,turningCircle:9.3,energyTank:41,autonomy:null,wheelType:"165/70 R 14",model:null,modelWheel:null,id:"nissan_micra"},{name:206,brand:"peugeot",year:1998,trim:"1.1 (60)",unitsProduced:"6,000,000",engine:{torqueY:[25.8,52.1,71.6,90.5,89.2,86.3,82.1,76.4,63],torqueX:[1e3,1500,2e3,3e3,4e3,4500,5e3,5500,6e3],minRPM:1500,hp:59},gearRatio:[3.42,1.81,1.28,.98,.77],driveRatio:4.2,gearSpeed:33.3,wheelDiameter:57,weight:910,length:3835,width:1652,height:1428,dragArea:1.96,dragCoef:.33,wheelbase:2442,trunk:245,trunkMax:1130,seats:5,energyTank:50,turningCircle:10.8,acc0100:15.5,vmax:155,model:"peugeot206",modelWheel:"wheel206",id:"peugeot_206"},{name:"clio 2",brand:"renault",trim:"RXT 1.6 (90) bva",year:1998,price:"12600€",unitsProduced:"5,631,000",engine:{name:"K7M 745 1.6 8v",hp:90,torqueY:[49.4,127.3,128.9,131,124.1,131,130,128,122,109.4],torqueX:[1e3,1500,2e3,2500,3e3,4e3,4500,5e3,5250,5500],minRPM:1500,type:"petrol",layout:"l4",displacement:1598},gearName:"DP0",gearRatio:[3.994,2.536,1.581,1],driveRatio:2.815,gearSpeed:40,wheelDiameter:60,type:"FWD",weight:1055,length:3773,width:1640,height:1417,dragCoef:.35,dragArea:1.93,wheelbase:2472,trunk:255,trunkMax:null,seats:5,acc0100:12.9,vmax:175,turningCircle:10.3,energyTank:50,autonomy:null,wheelType:"165/65 R 14 T",model:null,modelWheel:null,id:"renault_clio2"},{name:"Megane Scenic",brand:"renault",trim:"megane scenic phase1 JA0",year:1996,price:"18000€",engine:{name:"K7M702/703/790 1.6",hp:90,torqueY:[50,110,137,126,100],torqueX:[1e3,2e3,4e3,5e3,5200],type:"petrol",layout:"l4",displacement:1598},engines:[{engine:{name:"K7M702/703/790 1.6"},gearRatio:[3.909,2.143,1.36,.972,.731],driveRatio:3.889}],gearName:"JB1 918",gearRatio:[3.727,2.048,1.321,.967,.795],gearReverse:null,gearTransfer:null,driveRatio:4.214,gearSpeed:null,wheelDiameter:62,type:"FWD",weight:1325,length:4168,width:1719,height:1609,dragCoef:.34,dragArea:2.3,wheelbase:2580,bodyType:"mpv",clearance:null,trunk:410,trunkMax:null,seats:5,acc0100:null,vmax:175,avgConsumption:null,energyTank:60,autonomy:null,turningCircle:null,wheelType:null,model:null,modelWheel:null,modelMisc:null,id:"renault_scenic1"},{name:"trafic 2",brand:"renault",year:2006,trim:"2.0 dCi (90 Hp) L1H1",engine:{name:"m9r dci 2.0 90",torqueY:[140,240,240,240,200,190,160],torqueX:[1e3,1500,2e3,2500,3e3,3500,4e3],hp:90},gearRatio:[4.564,2.442,1.515,.986,.773,.6],driveRatio:4.2,gearSpeed:50.44,wheelDiameter:67,weight:1753,width:1904,height:1962,length:4782,dragArea:3.5,dragCoef:.36,wheelBase:3090,trunk:3200,seats:3,acc0100:19,vmax:150,trims:[{trim:"2.0 dCi (90 Hp) L2H2",weight:1885,length:5180,height:2460,dragArea:4.67,wheelBase:3500,trunk:8360,model:"renaultTraficL2H2"}],model:"renaultTrafic",modelWheel:"wheelTrafic",id:"renault_trafic2"},{name:"Truck T",brand:"Renault",trim:"t460 4x2",year:2013,price:"80000€",engine:{name:"Eu6 DTI 13 440",hp:440,torqueY:[1500,1750,2200,2200,1670,800],torqueX:[400,700,800,1400,1800,2200],type:"diesel",layout:"l6",displacement:"12.8L",weight:1150},engines:[{engine:null}],gearName:"Optidriver 12",gearRatio:[14.7,11.7,9.24,7.35,5.81,4.61,3.66,2.91,2.3,1.82,1.44,1],gearReverse:null,gearTransfer:null,driveRatio:2.64,gearSpeed:null,wheelDiameter:101,type:null,weight:8262,length:6145,width:2499,height:3900,dragCoef:.37,dragArea:7.5,wheelbase:3800,bodyType:"semitruck",clearance:null,trunk:null,trunkMax:null,seats:2,acc0100:null,vmax:null,avgConsumption:30,energyTank:1475,autonomy:null,turningCircle:null,wheelType:null,model:null,modelWheel:null,modelMisc:null,trims:[{trim:null}],options:[{name:null}],id:"renault_truck_t"},{name:"Twingo",brand:"Renault",trim:null,year:1992,unitsProduced:"2,478,648",price:"54000f",engine:{name:"1.2 C3G Cléon-Fonte",hp:55,torqueY:[70,81,90,81,72.9,60],torqueX:[1e3,1300,2800,4500,5300,5500],type:"petrol",layout:"l4",displacement:1239},engines:[{engine:null}],gearName:null,gearRatio:[3.731,2.049,1.321,.976,.756],gearReverse:null,gearTransfer:null,driveRatio:3.73,gearSpeed:null,wheelDiameter:53,type:"FWD",weight:890,length:3430,width:1630,height:1420,dragCoef:.35,dragArea:1.9,wheelbase:2347,bodyType:"mpv",clearance:null,trunk:"168 - 261",trunkMax:1096,seats:4,acc0100:14,vmax:150,avgConsumption:6,energyTank:40,autonomy:null,turningCircle:null,wheelType:"145/70R13",model:null,modelWheel:null,modelMisc:null,trims:[{trim:null}],options:[{name:null}],id:"renault_twingo"},{name:"zoe",brand:"renault",trim:"Q90",year:2017,unitsProduced:"284,791",price:"23700€",engine:{name:"q90",torqueY:[190,220,220,215,194,172.4,155,129.3,115,90,73,60,40],torqueX:[0,7,32,35,40,45,50,60,70,90,110,135,200],torqueXMultiplier:80,minRPM:50,hp:90},gearRatio:[1],driveRatio:9.3,gearSpeed:12.6,weight:1480,length:4084,width:1730,height:1562,dragCoef:.33,dragArea:2.24,wheelBase:2588,trunk:338,trunkMax:1225,clearance:120,seats:5,bodyType:"hatchback",brakePadsForce:12e3,turningCircle:10.56,acc0100:13.5,trims:[{trim:"r75 life",year:2016,engine:{torqueY:[190,210,210,167,137,98,78,60,48],torqueX:[0,250,2500,3250,4e3,5500,7e3,9e3,11300],torqueXMultiplier:1,hp:75}}],model:"renaultZoe",id:"renault_zoe"},{name:"model 3",brand:"tesla",year:2018,price:"41990€",unitsProduced:"420,000+",trim:"standard 285hp",engine:{torqueY:[400,400,397,331,283,248,209,140,80],torqueX:[0,4500,5e3,6e3,7e3,8e3,9500,12e3,16e3],minRPM:50,hp:281},gearRatio:[1],driveRatio:9,gearSpeed:14,wheelDiameter:67,weight:1745,length:4673,width:1849,height:1422,dragCoef:.23,dragArea:2.45,wheelbase:2875,trunk:545,trunkMax:null,seats:5,bodyType:"sedan",acc0100:6.1,vmax:210,turningCircle:11.6,energyTank:55,id:"tesla_model3"},{name:"model S",brand:"tesla",trim:"P85",year:2014,engine:{torqueY:[600,600,492,422,369,311,224,130],torqueX:[0,5e3,6e3,7e3,8e3,9500,12e3,16e3],minRPM:50,hp:421},gearRatio:[1],driveRatio:9.73,gearSpeed:13.56,wheelDiameter:70,weight:2220,length:4970,width:1964,height:1440,dragCoef:.23,dragArea:2.45,wheelbase:2960,bodyType:"liftback",trunk:895,trunkMax:1645,seats:5,acc0100:4.4,vmax:210,turningCircle:12.3,energyTank:85,wheelType:"P245/45R19",id:"tesla_modelS"},{name:"Hilux VII xtra",brand:"Toyota",trim:null,year:2006,price:"25700€",engine:{name:"2kd ftv engine 2.5 d4d",hp:120,torqueY:[130,180,240,260,325,238,210,180],torqueX:[1e3,1300,1500,1600,2e3,3600,4e3,4200],type:"diesel",layout:"l4",displacement:2494},gearRatio:[4.31,2.33,1.44,1,.79],driveRatio:3.583,gearSpeed:48.6,gearTransfer:[1,2.28],wheelDiameter:73,type:"AWD",weight:1740,length:5260,width:1885,height:1810,dragCoef:.39,dragArea:3.4,wheelbase:3090,trunk:2300,trunkMax:null,seats:5,acc0100:13.5,vmax:165,avgConsumption:null,energyTank:80,autonomy:null,turningCircle:13,wheelType:"205R16",model:"toyotaHilux7",modelWheel:"wheelHilux",trims:[{trim:"102hp",engine:{name:"2kd ftv engine 2.5 d4d not intercooled",hp:102,torqueY:[130,180,240,260,260,260,230,200,175,154],torqueX:[1e3,1300,1500,1600,2e3,2400,3e3,3600,4e3,4200]},acc0100:17.5,vmax:150,modelMisc:"hardtop"}],id:"toyota_hilux"},{name:"Yaris III",brand:"Toyota",trim:"HSD",year:2011,price:"18500€",engine:{name:"1.5 Hybrid",hp:100,torqueY:[169,169,169,152,146],torqueX:[500,1e3,3600,4600,4800],type:"hybrid",layout:"l4",displacement:1497},engines:[{engine:{name:"petrol"},driveRatio:3.9}],gearName:"e-cvt",gearRatio:[2.636,.426],gearReverse:2.636,driveRatio:3.19,wheelDiameter:61,type:"FWD",weight:1150,length:3945,width:1695,height:1510,dragCoef:.286,dragArea:2.15,wheelbase:2510,bodyType:"hatchback",clearance:null,trunk:286,trunkMax:null,seats:5,acc0100:11.8,acc050:4,vmax:165,avgConsumption:3.3,energyTank:36,autonomy:null,turningCircle:9.4,wheelType:"175/65R15",suspension:"MacPherson, torsion",brakes:"hydraulique et régénératif",model:null,modelWheel:null,modelMisc:null,trims:[{trim:null}],id:"toyota_yaris"},{name:"t2 kombi",brand:"volkswagen",trim:null,year:1967,engine:{name:"1.6L B4 type1 h-code VW 1600 engine",hp:48,torqueY:[70,85,102,104,102,97,84,75],torqueX:[1e3,1400,2e3,2200,2500,3e3,4e3,4200],type:"petrol",layout:"b4",displacement:1584},gearName:null,gearRatio:[3.8,2.06,1.26,.82],gearReverse:3.61,driveRatio:5.375,gearSpeed:29.1,wheelDiameter:68,type:"RWD",weight:1410,length:4420,width:1765,height:1950,dragCoef:.44,dragArea:3.4,wheelbase:2400,bodyType:"bus",trunk:null,trunkMax:null,seats:7,acc0100:null,vmax:105,avgConsumption:10.4,energyTank:60,autonomy:null,turningCircle:null,wheelType:"215/65R16",model:null,modelWheel:null,trims:[{trim:null}],id:"volkswagen_kombi"},{name:"duett",brand:"volvo",trim:"pv445",year:1953,unitsProduced:97200,price:"$900",engine:{name:"B16",hp:"44 - 51 - 68",torqueY:[],torqueX:[],type:"petrol",layout:"l4",displacement:1500},engines:[{engine:{name:"B18A 1.8L",hp:75,displacement:1780,torqueY:[137,117],torqueX:[2800,4500],weight:155}}],gearName:"M40",gearRatio:[3.13,1.99,1.36,1],gearReverse:3.25,gearTransfer:null,driveRatio:4.55,gearSpeed:null,wheelDiameter:null,type:"RWD",weight:1100,length:4400,width:1600,height:1700,dragCoef:null,dragArea:null,wheelbase:null,bodyType:null,clearance:null,trunk:null,trunkMax:null,seats:null,acc0100:null,vmax:null,avgConsumption:12,energyTank:35,autonomy:null,turningCircle:10.8,wheelType:null,model:null,modelWheel:null,modelMisc:null,trims:[{trim:"P210",year:1960,acc0100:19,vmax:145,avgConsumption:"8-13"}],options:[{name:null}],id:"volvo_duett"},{name:"Jeep",brand:"Willys",trim:"CJ2A",year:1945,unitsProduced:"1,018,000",price:"$1090",engine:{name:"Go-Devil L4-134",hp:54,torqueY:[100,142.2,105],torqueX:[1e3,1800,3600],type:"petrol",layout:"l4",displacement:2199},gearName:"Warner T90",gearRatio:[2.8,1.55,1],gearReverse:3.8,gearTransfer:[1,2.43],driveRatio:5.38,wheelDiameter:71.3,type:"AWD",weight:1188,length:3127,width:1451,height:1625,dragCoef:.65,dragArea:2.25,wheelbase:2032,bodyType:null,clearance:223,trunk:null,trunkMax:null,seats:null,acc0100:null,vmax:105,avgConsumption:null,energyTank:57,autonomy:480,turningCircle:null,wheelType:"600x16",model:null,modelWheel:null,modelMisc:null,wheelScale:null,id:"willys_jeep"}],U=[{name:"hyundai i20 1.2 petrol (84) 1.2 Kappa MPi",hp:84,torqueY:[57.4,86.1,100.5,109.1,114.8,118.9,122,120.5,116.2,107.6,98.7,82],torqueX:[1e3,1500,2e3,2500,3e3,3500,4e3,4500,5e3,5500,6e3,6500],displacement:1248,type:"line4",id:"hyundai_petrol_1.2_84"}],Ae={cars:O,engines:U},Se=Object.freeze(Object.defineProperty({__proto__:null,cars:O,default:Ae,engines:U},Symbol.toStringTag,{value:"Module"}));function S(t){return Array.isArray?Array.isArray(t):de(t)==="[object Array]"}const _e=1/0;function Ee(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-_e?"-0":e}function qe(t){return t==null?"":Ee(t)}function T(t){return typeof t=="string"}function he(t){return typeof t=="number"}function De(t){return t===!0||t===!1||Ie(t)&&de(t)=="[object Boolean]"}function ge(t){return typeof t=="object"}function Ie(t){return ge(t)&&t!==null}function v(t){return t!=null}function B(t){return!t.trim().length}function de(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Pe="Incorrect 'index' type",We=t=>`Invalid value for key ${t}`,Le=t=>`Pattern length exceeds max of ${t}.`,Fe=t=>`Missing ${t} property in key`,Ne=t=>`Property 'weight' in key '${t}' must be a positive integer`,te=Object.prototype.hasOwnProperty;class Xe{constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(r=>{let l=me(r);n+=l.weight,this._keys.push(l),this._keyMap[l.id]=l,n+=l.weight}),this._keys.forEach(r=>{r.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function me(t){let e=null,n=null,r=null,l=1,i=null;if(T(t)||S(t))r=t,e=ne(t),n=H(t);else{if(!te.call(t,"name"))throw new Error(Fe("name"));const a=t.name;if(r=a,te.call(t,"weight")&&(l=t.weight,l<=0))throw new Error(Ne(a));e=ne(a),n=H(a),i=t.getFn}return{path:e,id:n,weight:l,src:r,getFn:i}}function ne(t){return S(t)?t:t.split(".")}function H(t){return S(t)?t.join("."):t}function Oe(t,e){let n=[],r=!1;const l=(i,a,s)=>{if(v(i))if(!a[s])n.push(i);else{let o=a[s];const u=i[o];if(!v(u))return;if(s===a.length-1&&(T(u)||he(u)||De(u)))n.push(qe(u));else if(S(u)){r=!0;for(let c=0,g=u.length;c<g;c+=1)l(u[c],a,s+1)}else a.length&&l(u,a,s+1)}};return l(t,T(e)?e.split("."):e,0),r?n:n[0]}const Ye={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},$e={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},je={location:0,threshold:.6,distance:100},Be={useExtendedSearch:!1,getFn:Oe,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var h={...$e,...Ye,...je,...Be};const He=/[^ ]+/g;function Ke(t=1,e=3){const n=new Map,r=Math.pow(10,e);return{get(l){const i=l.match(He).length;if(n.has(i))return n.get(i);const a=1/Math.pow(i,.5*t),s=parseFloat(Math.round(a*r)/r);return n.set(i,s),s},clear(){n.clear()}}}class Q{constructor({getFn:e=h.getFn,fieldNormWeight:n=h.fieldNormWeight}={}){this.norm=Ke(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,T(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();T(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!v(e)||B(e))return;let r={v:e,i:n,n:this.norm.get(e)};this.records.push(r)}_addObject(e,n){let r={i:n,$:{}};this.keys.forEach((l,i)=>{let a=l.getFn?l.getFn(e):this.getFn(e,l.path);if(v(a)){if(S(a)){let s=[];const o=[{nestedArrIndex:-1,value:a}];for(;o.length;){const{nestedArrIndex:u,value:c}=o.pop();if(v(c))if(T(c)&&!B(c)){let g={v:c,i:u,n:this.norm.get(c)};s.push(g)}else S(c)&&c.forEach((g,d)=>{o.push({nestedArrIndex:d,value:g})})}r.$[i]=s}else if(T(a)&&!B(a)){let s={v:a,n:this.norm.get(a)};r.$[i]=s}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function pe(t,e,{getFn:n=h.getFn,fieldNormWeight:r=h.fieldNormWeight}={}){const l=new Q({getFn:n,fieldNormWeight:r});return l.setKeys(t.map(me)),l.setSources(e),l.create(),l}function ze(t,{getFn:e=h.getFn,fieldNormWeight:n=h.fieldNormWeight}={}){const{keys:r,records:l}=t,i=new Q({getFn:e,fieldNormWeight:n});return i.setKeys(r),i.setIndexRecords(l),i}function X(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:l=h.distance,ignoreLocation:i=h.ignoreLocation}={}){const a=e/t.length;if(i)return a;const s=Math.abs(r-n);return l?a+s/l:s?1:a}function Ve(t=[],e=h.minMatchCharLength){let n=[],r=-1,l=-1,i=0;for(let a=t.length;i<a;i+=1){let s=t[i];s&&r===-1?r=i:!s&&r!==-1&&(l=i-1,l-r+1>=e&&n.push([r,l]),r=-1)}return t[i-1]&&i-r>=e&&n.push([r,i-1]),n}const q=32;function Ge(t,e,n,{location:r=h.location,distance:l=h.distance,threshold:i=h.threshold,findAllMatches:a=h.findAllMatches,minMatchCharLength:s=h.minMatchCharLength,includeMatches:o=h.includeMatches,ignoreLocation:u=h.ignoreLocation}={}){if(e.length>q)throw new Error(Le(q));const c=e.length,g=t.length,d=Math.max(0,Math.min(r,g));let m=i,p=d;const f=s>1||o,C=f?Array(g):[];let M;for(;(M=t.indexOf(e,p))>-1;){let y=X(e,{currentLocation:M,expectedLocation:d,distance:l,ignoreLocation:u});if(m=Math.min(y,m),p=M+c,f){let x=0;for(;x<c;)C[M+x]=1,x+=1}}p=-1;let _=[],b=1,k=c+g;const $=1<<c-1;for(let y=0;y<c;y+=1){let x=0,w=k;for(;x<w;)X(e,{errors:y,currentLocation:d+w,expectedLocation:d,distance:l,ignoreLocation:u})<=m?x=w:k=w,w=Math.floor((k-x)/2+x);k=w;let F=Math.max(1,d-w+1),D=a?g:Math.min(d+w,g)+c,A=Array(D+2);A[D+1]=(1<<y)-1;for(let R=D;R>=F;R-=1){let I=R-1,N=n[t.charAt(I)];if(f&&(C[I]=+!!N),A[R]=(A[R+1]<<1|1)&N,y&&(A[R]|=(_[R+1]|_[R])<<1|1|_[R+1]),A[R]&$&&(b=X(e,{errors:y,currentLocation:I,expectedLocation:d,distance:l,ignoreLocation:u}),b<=m)){if(m=b,p=I,p<=d)break;F=Math.max(1,2*d-p)}}if(X(e,{errors:y+1,currentLocation:d,expectedLocation:d,distance:l,ignoreLocation:u})>m)break;_=A}const L={isMatch:p>=0,score:Math.max(.001,b)};if(f){const y=Ve(C,s);y.length?o&&(L.indices=y):L.isMatch=!1}return L}function Je(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const l=t.charAt(n);e[l]=(e[l]||0)|1<<r-n-1}return e}class fe{constructor(e,{location:n=h.location,threshold:r=h.threshold,distance:l=h.distance,includeMatches:i=h.includeMatches,findAllMatches:a=h.findAllMatches,minMatchCharLength:s=h.minMatchCharLength,isCaseSensitive:o=h.isCaseSensitive,ignoreLocation:u=h.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:l,includeMatches:i,findAllMatches:a,minMatchCharLength:s,isCaseSensitive:o,ignoreLocation:u},this.pattern=o?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(d,m)=>{this.chunks.push({pattern:d,alphabet:Je(d),startIndex:m})},g=this.pattern.length;if(g>q){let d=0;const m=g%q,p=g-m;for(;d<p;)c(this.pattern.substr(d,q),d),d+=q;if(m){const f=g-q;c(this.pattern.substr(f),f)}}else c(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,includeMatches:r}=this.options;if(n||(e=e.toLowerCase()),this.pattern===e){let p={isMatch:!0,score:0};return r&&(p.indices=[[0,e.length-1]]),p}const{location:l,distance:i,threshold:a,findAllMatches:s,minMatchCharLength:o,ignoreLocation:u}=this.options;let c=[],g=0,d=!1;this.chunks.forEach(({pattern:p,alphabet:f,startIndex:C})=>{const{isMatch:M,score:_,indices:b}=Ge(e,p,f,{location:l+C,distance:i,threshold:a,findAllMatches:s,minMatchCharLength:o,includeMatches:r,ignoreLocation:u});M&&(d=!0),g+=_,M&&b&&(c=[...c,...b])});let m={isMatch:d,score:d?g/this.chunks.length:1};return d&&r&&(m.indices=c),m}}class E{constructor(e){this.pattern=e}static isMultiMatch(e){return re(e,this.multiRegex)}static isSingleMatch(e){return re(e,this.singleRegex)}search(){}}function re(t,e){const n=t.match(e);return n?n[1]:null}class Ue extends E{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Qe extends E{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class Ze extends E{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class et extends E{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class tt extends E{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class nt extends E{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class ye extends E{constructor(e,{location:n=h.location,threshold:r=h.threshold,distance:l=h.distance,includeMatches:i=h.includeMatches,findAllMatches:a=h.findAllMatches,minMatchCharLength:s=h.minMatchCharLength,isCaseSensitive:o=h.isCaseSensitive,ignoreLocation:u=h.ignoreLocation}={}){super(e),this._bitapSearch=new fe(e,{location:n,threshold:r,distance:l,includeMatches:i,findAllMatches:a,minMatchCharLength:s,isCaseSensitive:o,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class we extends E{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,r;const l=[],i=this.pattern.length;for(;(r=e.indexOf(this.pattern,n))>-1;)n=r+i,l.push([r,n-1]);const a=!!l.length;return{isMatch:a,score:a?0:1,indices:l}}}const K=[Ue,we,Ze,et,nt,tt,Qe,ye],le=K.length,rt=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,lt="|";function it(t,e={}){return t.split(lt).map(n=>{let r=n.trim().split(rt).filter(i=>i&&!!i.trim()),l=[];for(let i=0,a=r.length;i<a;i+=1){const s=r[i];let o=!1,u=-1;for(;!o&&++u<le;){const c=K[u];let g=c.isMultiMatch(s);g&&(l.push(new c(g,e)),o=!0)}if(!o)for(u=-1;++u<le;){const c=K[u];let g=c.isSingleMatch(s);if(g){l.push(new c(g,e));break}}}return l})}const at=new Set([ye.type,we.type]);class st{constructor(e,{isCaseSensitive:n=h.isCaseSensitive,includeMatches:r=h.includeMatches,minMatchCharLength:l=h.minMatchCharLength,ignoreLocation:i=h.ignoreLocation,findAllMatches:a=h.findAllMatches,location:s=h.location,threshold:o=h.threshold,distance:u=h.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:r,minMatchCharLength:l,findAllMatches:a,ignoreLocation:i,location:s,threshold:o,distance:u},this.pattern=n?e:e.toLowerCase(),this.query=it(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:l}=this.options;e=l?e:e.toLowerCase();let i=0,a=[],s=0;for(let o=0,u=n.length;o<u;o+=1){const c=n[o];a.length=0,i=0;for(let g=0,d=c.length;g<d;g+=1){const m=c[g],{isMatch:p,indices:f,score:C}=m.search(e);if(p){if(i+=1,s+=C,r){const M=m.constructor.type;at.has(M)?a=[...a,...f]:a.push(f)}}else{s=0,i=0,a.length=0;break}}if(i){let g={isMatch:!0,score:s/i};return r&&(g.indices=a),g}}return{isMatch:!1,score:1}}}const z=[];function ot(...t){z.push(...t)}function V(t,e){for(let n=0,r=z.length;n<r;n+=1){let l=z[n];if(l.condition(t,e))return new l(t,e)}return new fe(t,e)}const Y={AND:"$and",OR:"$or"},G={PATH:"$path",PATTERN:"$val"},J=t=>!!(t[Y.AND]||t[Y.OR]),ut=t=>!!t[G.PATH],ct=t=>!S(t)&&ge(t)&&!J(t),ie=t=>({[Y.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function Re(t,e,{auto:n=!0}={}){const r=l=>{let i=Object.keys(l);const a=ut(l);if(!a&&i.length>1&&!J(l))return r(ie(l));if(ct(l)){const o=a?l[G.PATH]:i[0],u=a?l[G.PATTERN]:l[o];if(!T(u))throw new Error(We(o));const c={keyId:H(o),pattern:u};return n&&(c.searcher=V(u,e)),c}let s={children:[],operator:i[0]};return i.forEach(o=>{const u=l[o];S(u)&&u.forEach(c=>{s.children.push(r(c))})}),s};return J(t)||(t=ie(t)),r(t)}function ht(t,{ignoreFieldNorm:e=h.ignoreFieldNorm}){t.forEach(n=>{let r=1;n.matches.forEach(({key:l,norm:i,score:a})=>{const s=l?l.weight:null;r*=Math.pow(a===0&&s?Number.EPSILON:a,(s||1)*(e?1:i))}),n.score=r})}function gt(t,e){const n=t.matches;e.matches=[],v(n)&&n.forEach(r=>{if(!v(r.indices)||!r.indices.length)return;const{indices:l,value:i}=r;let a={indices:l,value:i};r.key&&(a.key=r.key.src),r.idx>-1&&(a.refIndex=r.idx),e.matches.push(a)})}function dt(t,e){e.score=t.score}function mt(t,e,{includeMatches:n=h.includeMatches,includeScore:r=h.includeScore}={}){const l=[];return n&&l.push(gt),r&&l.push(dt),t.map(i=>{const{idx:a}=i,s={item:e[a],refIndex:a};return l.length&&l.forEach(o=>{o(i,s)}),s})}class W{constructor(e,n={},r){this.options={...h,...n},this.options.useExtendedSearch,this._keyStore=new Xe(this.options.keys),this.setCollection(e,r)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof Q))throw new Error(Pe);this._myIndex=n||pe(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){v(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let r=0,l=this._docs.length;r<l;r+=1){const i=this._docs[r];e(i,r)&&(this.removeAt(r),r-=1,l-=1,n.push(i))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:r,includeScore:l,shouldSort:i,sortFn:a,ignoreFieldNorm:s}=this.options;let o=T(e)?T(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return ht(o,{ignoreFieldNorm:s}),i&&o.sort(a),he(n)&&n>-1&&(o=o.slice(0,n)),mt(o,this._docs,{includeMatches:r,includeScore:l})}_searchStringList(e){const n=V(e,this.options),{records:r}=this._myIndex,l=[];return r.forEach(({v:i,i:a,n:s})=>{if(!v(i))return;const{isMatch:o,score:u,indices:c}=n.searchIn(i);o&&l.push({item:i,idx:a,matches:[{score:u,value:i,norm:s,indices:c}]})}),l}_searchLogical(e){const n=Re(e,this.options),r=(s,o,u)=>{if(!s.children){const{keyId:g,searcher:d}=s,m=this._findMatches({key:this._keyStore.get(g),value:this._myIndex.getValueForItemAtKeyId(o,g),searcher:d});return m&&m.length?[{idx:u,item:o,matches:m}]:[]}const c=[];for(let g=0,d=s.children.length;g<d;g+=1){const m=s.children[g],p=r(m,o,u);if(p.length)c.push(...p);else if(s.operator===Y.AND)return[]}return c},l=this._myIndex.records,i={},a=[];return l.forEach(({$:s,i:o})=>{if(v(s)){let u=r(n,s,o);u.length&&(i[o]||(i[o]={idx:o,item:s,matches:[]},a.push(i[o])),u.forEach(({matches:c})=>{i[o].matches.push(...c)}))}}),a}_searchObjectList(e){const n=V(e,this.options),{keys:r,records:l}=this._myIndex,i=[];return l.forEach(({$:a,i:s})=>{if(!v(a))return;let o=[];r.forEach((u,c)=>{o.push(...this._findMatches({key:u,value:a[c],searcher:n}))}),o.length&&i.push({idx:s,item:a,matches:o})}),i}_findMatches({key:e,value:n,searcher:r}){if(!v(n))return[];let l=[];if(S(n))n.forEach(({v:i,i:a,n:s})=>{if(!v(i))return;const{isMatch:o,score:u,indices:c}=r.searchIn(i);o&&l.push({score:u,key:e,value:i,idx:a,norm:s,indices:c})});else{const{v:i,n:a}=n,{isMatch:s,score:o,indices:u}=r.searchIn(i);s&&l.push({score:o,key:e,value:i,norm:a,indices:u})}return l}}W.version="6.6.2";W.createIndex=pe;W.parseIndex=ze;W.config=h;W.parseQuery=Re;ot(st);const P={car:{list:()=>O.filter(t=>t.id!=="_default"),get:t=>O.find(e=>e.id===t),search:t=>wt(t,Se)},engine:{get:t=>U.find(e=>e.id===t),find:t=>yt(t)}};let ve=pt(P.car.list());console.log("ENGINES_DATABASE",ve);function ae(t){return!(!t||!t.torqueX||!t.name)}function pt(t){let e=[];for(let n=0;n<t.length;n++)e=e.concat(ft(t[n]));return e}function ft(t){let e=[],n={brand:t.brand,year:t.year,carId:t.id};if(e=e.concat(se(t,n)),t.trims)for(var r=0;r<t.trims.length;r++){let l=t.trims[r];e=e.concat(se(l,n))}return e}function se(t,e){const n=[];if(t.engine&&ae(t.engine)&&n.push(Object.assign({},t.engine,{_engineOrigin:e})),t.engines)for(var r=0;r<t.engines.length;r++){let l=t.engines[r].engine;ae(l)&&n.push(Object.assign({},l,{_engineOrigin:e}))}return n}function yt(t){if(typeof t=="string"){let n=t;return P.engine.get(n)}if(!t||!t.name)return null;let e=ve.filter(n=>n.name===t.name);return e.length<1?t:(e.length>1,e[0])}function wt(t,e){let n=Rt(e.cars);return new W(n,{includeScore:!0,keys:["name","trim","brand","year","engine.name","engine.hp"]}).search(t).map(l=>l.item)}function Rt(t){return t.reduce((n,r)=>{let l=[];return l.push(...oe(r,0)),r.trims&&r.trims.forEach((i,a)=>{let s=Object.assign({},r,i);l.push(...oe(s,a+1))}),n.concat(l)},[])}function oe(t,e){let n=[],r=0;return t.engine&&(n.push(Object.assign({},t,{engineId:r,trimId:e})),r++),t.engines&&n.push(...t.engines.map(l=>{let i=Object.assign({},t,{...l,engineId:r,trimId:e});return r++,i})),n}function St(){return P.car.list()}function _t(t,e=0,n=0){console.log("getting car",t,e,n);let r=P.car.get(t);if(!r)throw Error("car not found");const l=[].concat({trim:r.trim||"default"},r.trims||[]);typeof e=="string"&&(e=l.findIndex(a=>a.trim===e)),r=Object.assign({},r,l[e]);const i=[].concat({engine:r.engine},r.engines?r.engines.reduce((a,s)=>s.engine&&s.engine.name?a.concat(s):a,[]):[]);return i.forEach(a=>{let s=a.engine;if(!vt(s)){let o=P.engine.find(s);a.engine=o}}),n>=i.length&&(n=0),r=Object.assign({},r,i[n]),r=Mt(r),Object.assign(Object.create(xt),r,{trims:l,engines:i},{trimId:e,engineId:n})}function Et(t){return P.car.search(t)}function vt(t){return t?!!t.torqueX:!1}function Mt(t){if(!t.engine.torqueCurve){let e=[];for(let n=0;n<t.engine.torqueX.length;n++){let r=t.engine.torqueXMultiplier?t.engine.torqueXMultiplier:1;e.push([t.engine.torqueX[n]*r,t.engine.torqueY[n]])}t.engine.torqueCurve=e}return t}const xt={weight:1e3,height:1600,width:1600,length:4e3,wheelDiameter:63,dragCoef:.3,dragArea:2,brakePadsForce:12e3};export{_t as a,Tt as b,Ct as c,ee as d,be as e,Me as f,bt as g,Z as h,kt as i,St as l,Et as s,Te as t,At as u};
