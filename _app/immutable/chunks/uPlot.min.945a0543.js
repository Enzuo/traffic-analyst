const Me="u-",ds="uplot",ws=Me+"hz",Ss=Me+"vt",_s=Me+"title",ys=Me+"wrap",vs=Me+"under",bs=Me+"over",Ms=Me+"axis",zt=Me+"off",ks=Me+"select",xs=Me+"cursor-x",Es=Me+"cursor-y",Ts=Me+"cursor-pt",Ds=Me+"legend",As=Me+"live",Ls=Me+"inline",Ps=Me+"thead",Cs=Me+"series",Rs=Me+"marker",vi=Me+"label",zs=Me+"value",bl="width",Ml="height",yl="top",bi="bottom",qt="left",kn="right",Nn="#000",Mi=Nn+"0",ki="mousemove",xi="mousedown",xn="mouseup",Ei="mouseenter",Ti="mouseleave",Di="dblclick",Fs="resize",Vs="scroll",Ai="change",Bl="dppxchange",Hn="--",nl=typeof window<"u",Ln=nl?document:null,$t=nl?window:null,Ns=nl?navigator:null;let ne,Ol;function Pn(){let e=devicePixelRatio;ne!=e&&(ne=e,Ol&&Rn(Ai,Ol,Pn),Ol=matchMedia(`(min-resolution: ${ne-.001}dppx) and (max-resolution: ${ne+.001}dppx)`),kt(Ai,Ol,Pn),$t.dispatchEvent(new CustomEvent(Bl)))}function Je(e,l){if(l!=null){let o=e.classList;!o.contains(l)&&o.add(l)}}function Cn(e,l){let o=e.classList;o.contains(l)&&o.remove(l)}function de(e,l,o){e.style[l]=o+"px"}function mt(e,l,o,i){let s=Ln.createElement(e);return l!=null&&Je(s,l),o!=null&&o.insertBefore(s,i),s}function et(e,l){return mt("div",e,l)}const Li=new WeakMap;function Jt(e,l,o,i,s){let a="translate("+l+"px,"+o+"px)",c=Li.get(e);a!=c&&(e.style.transform=a,Li.set(e,a),l<0||o<0||l>i||o>s?Je(e,zt):Cn(e,zt))}const Pi=new WeakMap;function Hs(e,l,o){let i=l+o,s=Pi.get(e);i!=s&&(Pi.set(e,i),e.style.background=l,e.style.borderColor=o)}const Ci=new WeakMap;function Os(e,l,o,i){let s=l+""+o,a=Ci.get(e);s!=a&&(Ci.set(e,s),e.style.height=o+"px",e.style.width=l+"px",e.style.marginLeft=i?-l/2+"px":0,e.style.marginTop=i?-o/2+"px":0)}const On={passive:!0},so={...On,capture:!0};function kt(e,l,o,i){l.addEventListener(e,o,i?so:On)}function Rn(e,l,o,i){l.removeEventListener(e,o,i?so:On)}nl&&Pn();function Mt(e,l,o,i){let s;o=o||0,i=i||l.length-1;let a=i<=2147483647;for(;i-o>1;)s=a?o+i>>1:tt((o+i)/2),l[s]<e?o=s:i=s;return e-l[o]<=l[i]-e?o:i}function Qt(e,l,o,i){for(let s=i==1?l:o;s>=l&&s<=o;s+=i)if(e[s]!=null)return s;return-1}function Gs(e,l,o,i){let s=$,a=-$;if(i==1)s=e[l],a=e[o];else if(i==-1)s=e[o],a=e[l];else for(let c=l;c<=o;c++)e[c]!=null&&(s=Be(s,e[c]),a=ke(a,e[c]));return[s,a]}function Ws(e,l,o){let i=$,s=-$;for(let a=l;a<=o;a++)e[a]>0&&(i=Be(i,e[a]),s=ke(s,e[a]));return[i==$?1:i,s==-$?10:s]}function ql(e,l,o,i){let s=Fi(e),a=Fi(l),c=o==10?gt:ro;e==l&&(s==-1?(e*=o,l/=o):(e/=o,l*=o));let d=s==1?tt:Yl,g=a==1?Yl:tt,m=d(c(Oe(e))),S=g(c(Oe(l))),_=Xt(o,m),h=Xt(o,S);return o==10&&(m<0&&(_=ae(_,-m)),S<0&&(h=ae(h,-S))),i||o==2?(e=_*s,l=h*a):(e=uo(e,_),l=tl(l,h)),[e,l]}function Gn(e,l,o,i){let s=ql(e,l,o,i);return e==0&&(s[0]=0),l==0&&(s[1]=0),s}const Wn=.1,Ri={mode:3,pad:Wn},xl={pad:0,soft:null,mode:0},Is={min:xl,max:xl};function Ul(e,l,o,i){return Zl(o)?zi(e,l,o):(xl.pad=o,xl.soft=i?0:null,xl.mode=i?3:0,zi(e,l,Is))}function ie(e,l){return e??l}function Bs(e,l,o){for(l=ie(l,0),o=ie(o,e.length-1);l<=o;){if(e[l]!=null)return!0;l++}return!1}function zi(e,l,o){let i=o.min,s=o.max,a=ie(i.pad,0),c=ie(s.pad,0),d=ie(i.hard,-$),g=ie(s.hard,$),m=ie(i.soft,$),S=ie(s.soft,-$),_=ie(i.mode,0),h=ie(s.mode,0),D=l-e,C=gt(D),E=ke(Oe(e),Oe(l)),R=gt(E),J=Oe(R-C);(D<1e-9||J>10)&&(D=0,(e==0||l==0)&&(D=1e-9,_==2&&m!=$&&(a=0),h==2&&S!=-$&&(c=0)));let z=D||E||1e3,M=gt(z),L=Xt(10,tt(M)),x=z*(D==0?e==0?.1:1:a),H=ae(uo(e-x,L/10),9),T=e>=m&&(_==1||_==3&&H<=m||_==2&&H>=m)?m:$,I=ke(d,H<T&&e>=T?T:Be(T,H)),W=z*(D==0?l==0?.1:1:c),V=ae(tl(l+W,L/10),9),b=l<=S&&(h==1||h==3&&V>=S||h==2&&V<=S)?S:-$,N=Be(g,V>b&&l<=b?b:ke(b,V));return I==N&&I==0&&(N=100),[I,N]}const Us=new Intl.NumberFormat(nl?Ns.language:"en-US"),In=e=>Us.format(e),Ze=Math,Il=Ze.PI,Oe=Ze.abs,tt=Ze.floor,Ve=Ze.round,Yl=Ze.ceil,Be=Ze.min,ke=Ze.max,Xt=Ze.pow,Fi=Ze.sign,gt=Ze.log10,ro=Ze.log2,Ys=(e,l=1)=>Ze.sinh(e)*l,En=(e,l=1)=>Ze.asinh(e/l),$=1/0;function Vi(e){return(gt((e^e>>31)-(e>>31))|0)+1}function Ni(e,l,o){return Be(ke(e,l),o)}function Z(e){return typeof e=="function"?e:()=>e}const Ks=()=>{},js=e=>e,fo=(e,l)=>l,qs=e=>null,Hi=e=>!0,Oi=(e,l)=>e==l,el=e=>ae(e,14);function Rt(e,l){return el(ae(el(e/l))*l)}function tl(e,l){return el(Yl(el(e/l))*l)}function uo(e,l){return el(tt(el(e/l))*l)}function ae(e,l=0){if(Zs(e))return e;let o=10**l,i=e*o*(1+Number.EPSILON);return Ve(i)/o}const Jl=new Map;function Js(e){return((""+e).split(".")[1]||"").length}function Tl(e,l,o,i){let s=[],a=i.map(Js);for(let c=l;c<o;c++){let d=Oe(c),g=ae(Xt(e,c),d);for(let m=0;m<i.length;m++){let S=i[m]*g,_=(S>=0&&c>=0?0:d)+(c>=a[m]?0:a[m]),h=ae(S,_);s.push(h),Jl.set(h,_)}}return s}const El={},co=[],ll=[null,null],Ft=Array.isArray,Zs=Number.isInteger,$s=e=>e===void 0;function Gi(e){return typeof e=="string"}function Zl(e){let l=!1;if(e!=null){let o=e.constructor;l=o==null||o==Object}return l}function Wi(e){return e!=null&&typeof e=="object"}const Qs=Object.getPrototypeOf(Uint8Array);function Vt(e,l=Zl){let o;if(Ft(e)){let i=e.find(s=>s!=null);if(Ft(i)||l(i)){o=Array(e.length);for(let s=0;s<e.length;s++)o[s]=Vt(e[s],l)}else o=e.slice()}else if(e instanceof Qs)o=e.slice();else if(l(e)){o={};for(let i in e)o[i]=Vt(e[i],l)}else o=e;return o}function be(e){let l=arguments;for(let o=1;o<l.length;o++){let i=l[o];for(let s in i)Zl(e[s])?be(e[s],Vt(i[s])):e[s]=Vt(i[s])}return e}const Xs=0,er=1,tr=2;function lr(e,l,o){for(let i=0,s,a=-1;i<l.length;i++){let c=l[i];if(c>a){for(s=c-1;s>=0&&e[s]==null;)e[s--]=null;for(s=c+1;s<o&&e[s]==null;)e[a=s++]=null}}}function nr(e,l){let o=new Set;for(let c=0;c<e.length;c++){let g=e[c][0],m=g.length;for(let S=0;S<m;S++)o.add(g[S])}let i=[Array.from(o).sort((c,d)=>c-d)],s=i[0].length,a=new Map;for(let c=0;c<s;c++)a.set(i[0][c],c);for(let c=0;c<e.length;c++){let d=e[c],g=d[0];for(let m=1;m<d.length;m++){let S=d[m],_=Array(s).fill(void 0),h=l?l[c][m]:er,D=[];for(let C=0;C<S.length;C++){let E=S[C],R=a.get(g[C]);E===null?h!=Xs&&(_[R]=E,h==tr&&D.push(R)):_[R]=E}lr(_,D,s),i.push(_)}}return i}const ir=typeof queueMicrotask>"u"?e=>Promise.resolve().then(e):queueMicrotask,ao=["January","February","March","April","May","June","July","August","September","October","November","December"],ho=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function po(e){return e.slice(0,3)}const or=ho.map(po),sr=ao.map(po),rr={MMMM:ao,MMM:sr,WWWW:ho,WWW:or};function vl(e){return(e<10?"0":"")+e}function fr(e){return(e<10?"00":e<100?"0":"")+e}const ur={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,l)=>l.MMMM[e.getMonth()],MMM:(e,l)=>l.MMM[e.getMonth()],MM:e=>vl(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>vl(e.getDate()),D:e=>e.getDate(),WWWW:(e,l)=>l.WWWW[e.getDay()],WWW:(e,l)=>l.WWW[e.getDay()],HH:e=>vl(e.getHours()),H:e=>e.getHours(),h:e=>{let l=e.getHours();return l==0?12:l>12?l-12:l},AA:e=>e.getHours()>=12?"PM":"AM",aa:e=>e.getHours()>=12?"pm":"am",a:e=>e.getHours()>=12?"p":"a",mm:e=>vl(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>vl(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>fr(e.getMilliseconds())};function Bn(e,l){l=l||rr;let o=[],i=/\{([a-z]+)\}|[^{]+/gi,s;for(;s=i.exec(e);)o.push(s[0][0]=="{"?ur[s[1]]:s[0]);return a=>{let c="";for(let d=0;d<o.length;d++)c+=typeof o[d]=="string"?o[d]:o[d](a,l);return c}}const cr=new Intl.DateTimeFormat().resolvedOptions().timeZone;function ar(e,l){let o;return l=="UTC"||l=="Etc/UTC"?o=new Date(+e+e.getTimezoneOffset()*6e4):l==cr?o=e:(o=new Date(e.toLocaleString("en-US",{timeZone:l})),o.setMilliseconds(e.getMilliseconds())),o}const mo=e=>e%1==0,Kl=[1,2,2.5,5],hr=Tl(10,-16,0,Kl),go=Tl(10,0,16,Kl),pr=go.filter(mo),mr=hr.concat(go),Un=`
`,wo="{YYYY}",Ii=Un+wo,So="{M}/{D}",kl=Un+So,Gl=kl+"/{YY}",_o="{aa}",gr="{h}:{mm}",Zt=gr+_o,Bi=Un+Zt,Ui=":{ss}",ue=null;function yo(e){let l=e*1e3,o=l*60,i=o*60,s=i*24,a=s*30,c=s*365,g=(e==1?Tl(10,0,3,Kl).filter(mo):Tl(10,-3,0,Kl)).concat([l,l*5,l*10,l*15,l*30,o,o*5,o*10,o*15,o*30,i,i*2,i*3,i*4,i*6,i*8,i*12,s,s*2,s*3,s*4,s*5,s*6,s*7,s*8,s*9,s*10,s*15,a,a*2,a*3,a*4,a*6,c,c*2,c*5,c*10,c*25,c*50,c*100]);const m=[[c,wo,ue,ue,ue,ue,ue,ue,1],[s*28,"{MMM}",Ii,ue,ue,ue,ue,ue,1],[s,So,Ii,ue,ue,ue,ue,ue,1],[i,"{h}"+_o,Gl,ue,kl,ue,ue,ue,1],[o,Zt,Gl,ue,kl,ue,ue,ue,1],[l,Ui,Gl+" "+Zt,ue,kl+" "+Zt,ue,Bi,ue,1],[e,Ui+".{fff}",Gl+" "+Zt,ue,kl+" "+Zt,ue,Bi,ue,1]];function S(_){return(h,D,C,E,R,J)=>{let z=[],M=R>=c,L=R>=a&&R<c,x=_(C),H=ae(x*e,3),T=Tn(x.getFullYear(),M?0:x.getMonth(),L||M?1:x.getDate()),I=ae(T*e,3);if(L||M){let W=L?R/a:0,V=M?R/c:0,b=H==I?H:ae(Tn(T.getFullYear()+V,T.getMonth()+W,1)*e,3),N=new Date(Ve(b/e)),Q=N.getFullYear(),X=N.getMonth();for(let U=0;b<=E;U++){let ce=Tn(Q+V*U,X+W*U,1),B=ce-_(ae(ce*e,3));b=ae((+ce+B)*e,3),b<=E&&z.push(b)}}else{let W=R>=s?s:R,V=tt(C)-tt(H),b=I+V+tl(H-I,W);z.push(b);let N=_(b),Q=N.getHours()+N.getMinutes()/o+N.getSeconds()/i,X=R/i,U=h.axes[D]._space,ce=J/U;for(;b=ae(b+R,e==1?0:3),!(b>E);)if(X>1){let B=tt(ae(Q+X,6))%24,ee=_(b).getHours()-B;ee>1&&(ee=-1),b-=ee*i,Q=(Q+X)%24;let oe=z[z.length-1];ae((b-oe)/R,3)*ce>=.7&&z.push(b)}else z.push(b)}return z}}return[g,m,S]}const[dr,wr,Sr]=yo(1),[_r,yr,vr]=yo(.001);Tl(2,-53,53,[1]);function Yi(e,l){return e.map(o=>o.map((i,s)=>s==0||s==8||i==null?i:l(s==1||o[8]==0?i:o[1]+i)))}function Ki(e,l){return(o,i,s,a,c)=>{let d=l.find(C=>c>=C[0])||l[l.length-1],g,m,S,_,h,D;return i.map(C=>{let E=e(C),R=E.getFullYear(),J=E.getMonth(),z=E.getDate(),M=E.getHours(),L=E.getMinutes(),x=E.getSeconds(),H=R!=g&&d[2]||J!=m&&d[3]||z!=S&&d[4]||M!=_&&d[5]||L!=h&&d[6]||x!=D&&d[7]||d[1];return g=R,m=J,S=z,_=M,h=L,D=x,H(E)})}}function br(e,l){let o=Bn(l);return(i,s,a,c,d)=>s.map(g=>o(e(g)))}function Tn(e,l,o){return new Date(e,l,o)}function ji(e,l){return l(e)}const Mr="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function qi(e,l){return(o,i,s,a)=>a==null?Hn:l(e(i))}function kr(e,l){let o=e.series[l];return o.width?o.stroke(e,l):o.points.width?o.points.stroke(e,l):null}function xr(e,l){return e.series[l].fill(e,l)}const Er={show:!0,live:!0,isolate:!1,mount:Ks,markers:{show:!0,width:2,stroke:kr,fill:xr,dash:"solid"},idx:null,idxs:null,values:[]};function Tr(e,l){let o=e.cursor.points,i=et(),s=o.size(e,l);de(i,bl,s),de(i,Ml,s);let a=s/-2;de(i,"marginLeft",a),de(i,"marginTop",a);let c=o.width(e,l,s);return c&&de(i,"borderWidth",c),i}function Dr(e,l){let o=e.series[l].points;return o._fill||o._stroke}function Ar(e,l){let o=e.series[l].points;return o._stroke||o._fill}function Lr(e,l){return e.series[l].points.size}function Pr(e,l,o){return o}const Dn=[0,0];function Cr(e,l,o){return Dn[0]=l,Dn[1]=o,Dn}function Wl(e,l,o){return i=>{i.button==0&&o(i)}}function An(e,l,o){return o}const Rr={show:!0,x:!0,y:!0,lock:!1,move:Cr,points:{show:Tr,size:Lr,width:0,stroke:Ar,fill:Dr},bind:{mousedown:Wl,mouseup:Wl,click:Wl,dblclick:Wl,mousemove:An,mouseleave:An,mouseenter:An},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,l)=>{l.stopPropagation(),l.stopImmediatePropagation()},_x:!1,_y:!1},focus:{prox:-1,bias:0},left:-10,top:-10,idx:null,dataIdx:Pr,idxs:null},vo={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},Yn=be({},vo,{filter:fo}),bo=be({},Yn,{size:10}),Mo=be({},vo,{show:!1}),Kn='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',ko="bold "+Kn,zr=1.5,Ji={show:!0,scale:"x",stroke:Nn,space:50,gap:5,size:50,labelGap:0,labelSize:30,labelFont:ko,side:2,grid:Yn,ticks:bo,border:Mo,font:Kn,rotate:0},Fr="Value",Vr="Time",Zi={show:!0,scale:"x",auto:!1,sorted:1,min:$,max:-$,idxs:[]};function Nr(e,l,o,i,s){return l.map(a=>a==null?"":In(a))}function Hr(e,l,o,i,s,a,c){let d=[],g=Jl.get(s)||0;o=c?o:ae(tl(o,s),g);for(let m=o;m<=i;m=ae(m+s,g))d.push(Object.is(m,-0)?0:m);return d}function zn(e,l,o,i,s,a,c){const d=[],g=e.scales[e.axes[l].scale].log,m=g==10?gt:ro,S=tt(m(o));s=Xt(g,S),g==10&&S<0&&(s=ae(s,-S));let _=o;do d.push(_),_=_+s,g==10&&(_=ae(_,Jl.get(s))),_>=s*g&&(s=_);while(_<=i);return d}function Or(e,l,o,i,s,a,c){let g=e.scales[e.axes[l].scale].asinh,m=i>g?zn(e,l,ke(g,o),i,s):[g],S=i>=0&&o<=0?[0]:[];return(o<-g?zn(e,l,ke(g,-i),-o,s):[g]).reverse().map(h=>-h).concat(S,m)}const Gr=/./,Wr=/[12357]/,Ir=/[125]/,Br=/1/;function Ur(e,l,o,i,s){let a=e.axes[o],c=a.scale,d=e.scales[c];if(d.distr==3&&d.log==2)return l;let g=e.valToPos,m=a._space,S=g(10,c),_=g(9,c)-S>=m?Gr:g(7,c)-S>=m?Wr:g(5,c)-S>=m?Ir:Br;return l.map(h=>d.distr==4&&h==0||_.test(h)?h:null)}function Yr(e,l,o,i){return i==null?Hn:l==null?"":In(l)}const $i={show:!0,scale:"y",stroke:Nn,space:30,gap:5,size:50,labelGap:0,labelSize:30,labelFont:ko,side:3,grid:Yn,ticks:bo,border:Mo,font:Kn,rotate:0};function Kr(e,l){let o=3+(e||1)*2;return ae(o*l,3)}function jr(e,l){let{scale:o,idxs:i}=e.series[0],s=e._data[0],a=e.valToPos(s[i[0]],o,!0),c=e.valToPos(s[i[1]],o,!0),d=Oe(c-a),g=e.series[l],m=d/(g.points.space*ne);return i[1]-i[0]<=m}const Qi={scale:null,auto:!0,sorted:0,min:$,max:-$},xo=(e,l,o,i,s)=>s,Xi={show:!0,auto:!0,sorted:0,gaps:xo,alpha:1,facets:[be({},Qi,{scale:"x"}),be({},Qi,{scale:"y"})]},eo={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:xo,alpha:1,points:{show:jr,filter:null},values:null,min:$,max:-$,idxs:[],path:null,clip:null};function qr(e,l,o,i,s){return o/10}const Eo={time:!0,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},Jr=be({},Eo,{time:!1,ori:1}),to={};function To(e,l){let o=to[e];return o||(o={key:e,plots:[],sub(i){o.plots.push(i)},unsub(i){o.plots=o.plots.filter(s=>s!=i)},pub(i,s,a,c,d,g,m){for(let S=0;S<o.plots.length;S++)o.plots[S]!=s&&o.plots[S].pub(i,s,a,c,d,g,m)}},e!=null&&(to[e]=o)),o}const Nt=1<<0,jl=1<<1;function Ht(e,l,o){const i=e.mode,s=e.series[l],a=i==2?e._data[l]:e._data,c=e.scales,d=e.bbox;let g=a[0],m=i==2?a[1]:a[l],S=i==2?c[s.facets[0].scale]:c[e.series[0].scale],_=i==2?c[s.facets[1].scale]:c[s.scale],h=d.left,D=d.top,C=d.width,E=d.height,R=e.valToPosH,J=e.valToPosV;return S.ori==0?o(s,g,m,S,_,R,J,h,D,C,E,Xl,il,tn,Ao,Po):o(s,g,m,S,_,J,R,D,h,E,C,en,ol,qn,Lo,Co)}function $l(e,l){let o=0,i=0,s=ie(e.bands,co);for(let a=0;a<s.length;a++){let c=s[a];c.series[0]==l?o=c.dir:c.series[1]==l&&(c.dir==1?i|=1:i|=2)}return[o,i==1?-1:i==2?1:i==3?2:0]}function Zr(e,l,o,i,s){let a=e.mode,c=e.series[l],d=a==2?c.facets[1].scale:c.scale,g=e.scales[d];return s==-1?g.min:s==1?g.max:g.distr==3?g.dir==1?g.min:g.max:0}function dt(e,l,o,i,s,a){return Ht(e,l,(c,d,g,m,S,_,h,D,C,E,R)=>{let J=c.pxRound;const z=m.dir*(m.ori==0?1:-1),M=m.ori==0?il:ol;let L,x;z==1?(L=o,x=i):(L=i,x=o);let H=J(_(d[L],m,E,D)),T=J(h(g[L],S,R,C)),I=J(_(d[x],m,E,D)),W=J(h(a==1?S.max:S.min,S,R,C)),V=new Path2D(s);return M(V,I,W),M(V,H,W),M(V,H,T),V})}function Ql(e,l,o,i,s,a){let c=null;if(e.length>0){c=new Path2D;const d=l==0?tn:qn;let g=o;for(let S=0;S<e.length;S++){let _=e[S];if(_[1]>_[0]){let h=_[0]-g;h>0&&d(c,g,i,h,i+a),g=_[1]}}let m=o+s-g;m>0&&d(c,g,i,m,i+a)}return c}function $r(e,l,o){let i=e[e.length-1];i&&i[0]==l?i[1]=o:e.push([l,o])}function jn(e,l,o,i,s,a,c){let d=[],g=e.length;for(let m=s==1?o:i;m>=o&&m<=i;m+=s)if(l[m]===null){let _=m,h=m;if(s==1)for(;++m<=i&&l[m]===null;)h=m;else for(;--m>=o&&l[m]===null;)h=m;let D=a(e[_]),C=h==_?D:a(e[h]),E=_-s;D=c<=0&&E>=0&&E<g?a(e[E]):D;let J=h+s;C=c>=0&&J>=0&&J<g?a(e[J]):C,C>=D&&d.push([D,C])}return d}function lo(e){return e==0?js:e==1?Ve:l=>Rt(l,e)}function Do(e){let l=e==0?Xl:en,o=e==0?(s,a,c,d,g,m)=>{s.arcTo(a,c,d,g,m)}:(s,a,c,d,g,m)=>{s.arcTo(c,a,g,d,m)},i=e==0?(s,a,c,d,g)=>{s.rect(a,c,d,g)}:(s,a,c,d,g)=>{s.rect(c,a,g,d)};return(s,a,c,d,g,m=0,S=0)=>{m==0&&S==0?i(s,a,c,d,g):(m=Be(m,d/2,g/2),S=Be(S,d/2,g/2),l(s,a+m,c),o(s,a+d,c,a+d,c+g,m),o(s,a+d,c+g,a,c+g,S),o(s,a,c+g,a,c,S),o(s,a,c,a+d,c,m),s.closePath())}}const Xl=(e,l,o)=>{e.moveTo(l,o)},en=(e,l,o)=>{e.moveTo(o,l)},il=(e,l,o)=>{e.lineTo(l,o)},ol=(e,l,o)=>{e.lineTo(o,l)},tn=Do(0),qn=Do(1),Ao=(e,l,o,i,s,a)=>{e.arc(l,o,i,s,a)},Lo=(e,l,o,i,s,a)=>{e.arc(o,l,i,s,a)},Po=(e,l,o,i,s,a,c)=>{e.bezierCurveTo(l,o,i,s,a,c)},Co=(e,l,o,i,s,a,c)=>{e.bezierCurveTo(o,l,s,i,c,a)};function Ro(e){return(l,o,i,s,a)=>Ht(l,o,(c,d,g,m,S,_,h,D,C,E,R)=>{let{pxRound:J,points:z}=c,M,L;m.ori==0?(M=Xl,L=Ao):(M=en,L=Lo);const x=ae(z.width*ne,3);let H=(z.size-z.width)/2*ne,T=ae(H*2,3),I=new Path2D,W=new Path2D,{left:V,top:b,width:N,height:Q}=l.bbox;tn(W,V-T,b-T,N+T*2,Q+T*2);const X=U=>{if(g[U]!=null){let ce=J(_(d[U],m,E,D)),B=J(h(g[U],S,R,C));M(I,ce+H,B),L(I,ce,B,H,0,Il*2)}};if(a)a.forEach(X);else for(let U=i;U<=s;U++)X(U);return{stroke:x>0?I:null,fill:I,clip:W,flags:Nt|jl}})}function zo(e){return(l,o,i,s,a,c)=>{i!=s&&(a!=i&&c!=i&&e(l,o,i),a!=s&&c!=s&&e(l,o,s),e(l,o,c))}}const Qr=zo(il),Xr=zo(ol);function Fo(e){const l=ie(e==null?void 0:e.alignGaps,0);return(o,i,s,a)=>Ht(o,i,(c,d,g,m,S,_,h,D,C,E,R)=>{let J=c.pxRound,z=F=>J(_(F,m,E,D)),M=F=>J(h(F,S,R,C)),L,x;m.ori==0?(L=il,x=Qr):(L=ol,x=Xr);const H=m.dir*(m.ori==0?1:-1),T={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:Nt},I=T.stroke;let W=$,V=-$,b,N,Q,X=z(d[H==1?s:a]),U=Qt(g,s,a,1*H),ce=Qt(g,s,a,-1*H),B=z(d[U]),$e=z(d[ce]),Ce=!1;for(let F=H==1?s:a;F>=s&&F<=a;F+=H){let pe=z(d[F]),O=g[F];pe==X?O!=null?(N=M(O),W==$&&(L(I,pe,N),b=N),W=Be(N,W),V=ke(N,V)):O===null&&(Ce=!0):(W!=$&&(x(I,X,W,V,b,N),Q=X),O!=null?(N=M(O),L(I,pe,N),W=V=b=N):(W=$,V=-$,O===null&&(Ce=!0)),X=pe)}W!=$&&W!=V&&Q!=X&&x(I,X,W,V,b,N);let[ee,oe]=$l(o,i);if(c.fill!=null||ee!=0){let F=T.fill=new Path2D(I),pe=c.fillTo(o,i,c.min,c.max,ee),O=M(pe);L(F,$e,O),L(F,B,O)}if(!c.spanGaps){let F=[];Ce&&F.push(...jn(d,g,s,a,H,z,l)),T.gaps=F=c.gaps(o,i,s,a,F),T.clip=Ql(F,m.ori,D,C,E,R)}return oe!=0&&(T.band=oe==2?[dt(o,i,s,a,I,-1),dt(o,i,s,a,I,1)]:dt(o,i,s,a,I,oe)),T})}function ef(e){const l=ie(e.align,1),o=ie(e.ascDesc,!1),i=ie(e.alignGaps,0),s=ie(e.extend,!1);return(a,c,d,g)=>Ht(a,c,(m,S,_,h,D,C,E,R,J,z,M)=>{let L=m.pxRound,{left:x,width:H}=a.bbox,T=ee=>L(C(ee,h,z,R)),I=ee=>L(E(ee,D,M,J)),W=h.ori==0?il:ol;const V={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:Nt},b=V.stroke,N=h.dir*(h.ori==0?1:-1);d=Qt(_,d,g,1),g=Qt(_,d,g,-1);let Q=I(_[N==1?d:g]),X=T(S[N==1?d:g]),U=X,ce=X;s&&l==-1&&(ce=x,W(b,ce,Q)),W(b,X,Q);for(let ee=N==1?d:g;ee>=d&&ee<=g;ee+=N){let oe=_[ee];if(oe==null)continue;let F=T(S[ee]),pe=I(oe);l==1?W(b,F,Q):W(b,U,pe),W(b,F,pe),Q=pe,U=F}let B=U;s&&l==1&&(B=x+H,W(b,B,Q));let[$e,Ce]=$l(a,c);if(m.fill!=null||$e!=0){let ee=V.fill=new Path2D(b),oe=m.fillTo(a,c,m.min,m.max,$e),F=I(oe);W(ee,B,F),W(ee,ce,F)}if(!m.spanGaps){let ee=[];ee.push(...jn(S,_,d,g,N,T,i));let oe=m.width*ne/2,F=o||l==1?oe:-oe,pe=o||l==-1?-oe:oe;ee.forEach(O=>{O[0]+=F,O[1]+=pe}),V.gaps=ee=m.gaps(a,c,d,g,ee),V.clip=Ql(ee,h.ori,R,J,z,M)}return Ce!=0&&(V.band=Ce==2?[dt(a,c,d,g,b,-1),dt(a,c,d,g,b,1)]:dt(a,c,d,g,b,Ce)),V})}function tf(e){e=e||El;const l=ie(e.size,[.6,$,1]),o=e.align||0,i=(e.gap||0)*ne;let s=e.radius;s=s==null?[0,0]:typeof s=="number"?[s,0]:s;const a=Z(s),c=1-l[0],d=ie(l[1],$)*ne,g=ie(l[2],1)*ne,m=ie(e.disp,El),S=ie(e.each,D=>{}),{fill:_,stroke:h}=m;return(D,C,E,R)=>Ht(D,C,(J,z,M,L,x,H,T,I,W,V,b)=>{let N=J.pxRound,Q,X;L.ori==0?[Q,X]=a(D,C):[X,Q]=a(D,C);const U=L.dir*(L.ori==0?1:-1),ce=x.dir*(x.ori==1?1:-1);let B=L.ori==0?tn:qn,$e=L.ori==0?S:(K,we,Ne,xe,Ge,Ee,nt)=>{S(K,we,Ne,Ge,xe,nt,Ee)},[Ce,ee]=$l(D,C),oe=x.distr==3?Ce==1?x.max:x.min:0,F=T(oe,x,b,W),pe,O,se=N(J.width*ne),lt=!1,wt=null,at=null,Qe=null,St=null;_!=null&&(se==0||h!=null)&&(lt=!0,wt=_.values(D,C,E,R),at=new Map,new Set(wt).forEach(K=>{K!=null&&at.set(K,new Path2D)}),se>0&&(Qe=h.values(D,C,E,R),St=new Map,new Set(Qe).forEach(K=>{K!=null&&St.set(K,new Path2D)})));let{x0:sl,size:Ot}=m;if(sl!=null&&Ot!=null){z=sl.values(D,C,E,R),sl.unit==2&&(z=z.map(we=>D.posToVal(I+we*V,L.key,!0)));let K=Ot.values(D,C,E,R);Ot.unit==2?O=K[0]*V:O=H(K[0],L,V,I)-H(0,L,V,I),O=N(O-se),pe=U==1?-se/2:O+se/2}else{let K=V;if(z.length>1){let Ne=null;for(let xe=0,Ge=1/0;xe<z.length;xe++)if(M[xe]!==void 0){if(Ne!=null){let Ee=Oe(z[xe]-z[Ne]);Ee<Ge&&(Ge=Ee,K=Oe(H(z[xe],L,V,I)-H(z[Ne],L,V,I)))}Ne=xe}}let we=K*c;O=N(Be(d,ke(g,K-we))-se-i),pe=(o==0?O/2:o==U?0:O)-o*U*i/2}const xt={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:Nt|jl};let rl;ee!=0&&(xt.band=new Path2D,rl=N(T(ee==1?x.max:x.min,x,b,W)));const ht=lt?null:new Path2D,rt=xt.band;let{y0:fl,y1:Et}=m,_t=null;fl!=null&&Et!=null&&(M=Et.values(D,C,E,R),_t=fl.values(D,C,E,R));let te=Q*O,le=X*O;for(let K=U==1?E:R;K>=E&&K<=R;K+=U){let we=M[K];if(we===void 0)continue;let Ne=L.distr!=2||m!=null?z[K]:K,xe=H(Ne,L,V,I),Ge=T(ie(we,oe),x,b,W);_t!=null&&we!=null&&(F=T(_t[K],x,b,W));let Ee=N(xe-pe),nt=N(ke(Ge,F)),We=N(Be(Ge,F)),qe=nt-We;if(we!=null){let ft=we<0?le:te,Tt=we<0?te:le;lt?(se>0&&Qe[K]!=null&&B(St.get(Qe[K]),Ee,We+tt(se/2),O,ke(0,qe-se),ft,Tt),wt[K]!=null&&B(at.get(wt[K]),Ee,We+tt(se/2),O,ke(0,qe-se),ft,Tt)):B(ht,Ee,We+tt(se/2),O,ke(0,qe-se),ft,Tt),$e(D,C,K,Ee-se/2,We,O+se,qe)}ee!=0&&(ce*ee==1?(nt=We,We=rl):(We=nt,nt=rl),qe=nt-We,B(rt,Ee-se/2,We,O+se,ke(0,qe),0,0))}return se>0&&(xt.stroke=lt?St:ht),xt.fill=lt?at:ht,xt})}function lf(e,l){const o=ie(l==null?void 0:l.alignGaps,0);return(i,s,a,c)=>Ht(i,s,(d,g,m,S,_,h,D,C,E,R,J)=>{let z=d.pxRound,M=B=>z(h(B,S,R,C)),L=B=>z(D(B,_,J,E)),x,H,T;S.ori==0?(x=Xl,T=il,H=Po):(x=en,T=ol,H=Co);const I=S.dir*(S.ori==0?1:-1);a=Qt(m,a,c,1),c=Qt(m,a,c,-1);let W=M(g[I==1?a:c]),V=W,b=[],N=[];for(let B=I==1?a:c;B>=a&&B<=c;B+=I)if(m[B]!=null){let Ce=g[B],ee=M(Ce);b.push(V=ee),N.push(L(m[B]))}const Q={stroke:e(b,N,x,T,H,z),fill:null,clip:null,band:null,gaps:null,flags:Nt},X=Q.stroke;let[U,ce]=$l(i,s);if(d.fill!=null||U!=0){let B=Q.fill=new Path2D(X),$e=d.fillTo(i,s,d.min,d.max,U),Ce=L($e);T(B,V,Ce),T(B,W,Ce)}if(!d.spanGaps){let B=[];B.push(...jn(g,m,a,c,I,M,o)),Q.gaps=B=d.gaps(i,s,a,c,B),Q.clip=Ql(B,S.ori,C,E,R,J)}return ce!=0&&(Q.band=ce==2?[dt(i,s,a,c,X,-1),dt(i,s,a,c,X,1)]:dt(i,s,a,c,X,ce)),Q})}function nf(e){return lf(of,e)}function of(e,l,o,i,s,a){const c=e.length;if(c<2)return null;const d=new Path2D;if(o(d,e[0],l[0]),c==2)i(d,e[1],l[1]);else{let g=Array(c),m=Array(c-1),S=Array(c-1),_=Array(c-1);for(let h=0;h<c-1;h++)S[h]=l[h+1]-l[h],_[h]=e[h+1]-e[h],m[h]=S[h]/_[h];g[0]=m[0];for(let h=1;h<c-1;h++)m[h]===0||m[h-1]===0||m[h-1]>0!=m[h]>0?g[h]=0:(g[h]=3*(_[h-1]+_[h])/((2*_[h]+_[h-1])/m[h-1]+(_[h]+2*_[h-1])/m[h]),isFinite(g[h])||(g[h]=0));g[c-1]=m[c-2];for(let h=0;h<c-1;h++)s(d,e[h]+_[h]/3,l[h]+g[h]*_[h]/3,e[h+1]-_[h]/3,l[h+1]-g[h+1]*_[h]/3,e[h+1],l[h+1])}return d}const Fn=new Set;function no(){for(let e of Fn)e.syncRect(!0)}nl&&(kt(Fs,$t,no),kt(Vs,$t,no,!0),kt(Bl,$t,()=>{Ue.pxRatio=ne}));const sf=Fo(),rf=Ro();function io(e,l,o,i){return(i?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map((a,c)=>Vn(a,c,l,o))}function ff(e,l){return e.map((o,i)=>i==0?null:be({},l,o))}function Vn(e,l,o,i){return be({},l==0?o:i,e)}function Vo(e,l,o){return l==null?ll:[l,o]}const uf=Vo;function cf(e,l,o){return l==null?ll:Ul(l,o,Wn,!0)}function No(e,l,o,i){return l==null?ll:ql(l,o,e.scales[i].log,!1)}const af=No;function Ho(e,l,o,i){return l==null?ll:Gn(l,o,e.scales[i].log,!1)}const hf=Ho;function pf(e,l,o,i,s){let a=ke(Vi(e),Vi(l)),c=l-e,d=Mt(s/i*c,o);do{let g=o[d],m=i*g/c;if(m>=s&&a+(g<5?Jl.get(g):0)<=17)return[g,m]}while(++d<o.length);return[0,0]}function oo(e){let l,o;return e=e.replace(/(\d+)px/,(i,s)=>(l=Ve((o=+s)*ne))+"px"),[e,l,o]}function mf(e){e.show&&[e.font,e.labelFont].forEach(l=>{let o=ae(l[2]*ne,1);l[0]=l[0].replace(/[0-9.]+px/,o+"px"),l[1]=o})}function Ue(e,l,o){const i={mode:ie(e.mode,1)},s=i.mode;function a(t,n){return((n.distr==3?gt(t>0?t:n.clamp(i,t,n.min,n.max,n.key)):n.distr==4?En(t,n.asinh):t)-n._min)/(n._max-n._min)}function c(t,n,r,f){let u=a(t,n);return f+r*(n.dir==-1?1-u:u)}function d(t,n,r,f){let u=a(t,n);return f+r*(n.dir==-1?u:1-u)}function g(t,n,r,f){return n.ori==0?c(t,n,r,f):d(t,n,r,f)}i.valToPosH=c,i.valToPosV=d;let m=!1;i.status=0;const S=i.root=et(ds);if(e.id!=null&&(S.id=e.id),Je(S,e.class),e.title){let t=et(_s,S);t.textContent=e.title}const _=mt("canvas"),h=i.ctx=_.getContext("2d"),D=et(ys,S);kt("click",D,t=>{(me!=Wt||ge!=It)&&Re.click(i,t)},!0);const C=i.under=et(vs,D);D.appendChild(_);const E=i.over=et(bs,D);e=Vt(e);const R=+ie(e.pxAlign,1),J=lo(R);(e.plugins||[]).forEach(t=>{t.opts&&(e=t.opts(i,e)||e)});const z=e.ms||.001,M=i.series=s==1?io(e.series||[],Zi,eo,!1):ff(e.series||[null],Xi),L=i.axes=io(e.axes||[],Ji,$i,!0),x=i.scales={},H=i.bands=e.bands||[];H.forEach(t=>{t.fill=Z(t.fill||null),t.dir=ie(t.dir,-1)});const T=s==2?M[1].facets[0].scale:M[0].scale,I={axes:ts,series:Zo},W=(e.drawOrder||["axes","series"]).map(t=>I[t]);function V(t){let n=x[t];if(n==null){let r=(e.scales||El)[t]||El;if(r.from!=null)V(r.from),x[t]=be({},x[r.from],r,{key:t});else{n=x[t]=be({},t==T?Eo:Jr,r),n.key=t;let f=n.time,u=n.range,p=Ft(u);if((t!=T||s==2&&!f)&&(p&&(u[0]==null||u[1]==null)&&(u={min:u[0]==null?Ri:{mode:1,hard:u[0],soft:u[0]},max:u[1]==null?Ri:{mode:1,hard:u[1],soft:u[1]}},p=!1),!p&&Zl(u))){let w=u;u=(v,k,P)=>k==null?ll:Ul(k,P,w)}n.range=Z(u||(f?uf:t==T?n.distr==3?af:n.distr==4?hf:Vo:n.distr==3?No:n.distr==4?Ho:cf)),n.auto=Z(p?!1:n.auto),n.clamp=Z(n.clamp||qr),n._min=n._max=null}}}V("x"),V("y"),s==1&&M.forEach(t=>{V(t.scale)}),L.forEach(t=>{V(t.scale)});for(let t in e.scales)V(t);const b=x[T],N=b.distr;let Q,X;b.ori==0?(Je(S,ws),Q=c,X=d):(Je(S,Ss),Q=d,X=c);const U={};for(let t in x){let n=x[t];(n.min!=null||n.max!=null)&&(U[t]={min:n.min,max:n.max},n.min=n.max=null)}const ce=e.tzDate||(t=>new Date(Ve(t/z))),B=e.fmtDate||Bn,$e=z==1?Sr(ce):vr(ce),Ce=Ki(ce,Yi(z==1?wr:yr,B)),ee=qi(ce,ji(Mr,B)),oe=[],F=i.legend=be({},Er,e.legend),pe=F.show,O=F.markers;F.idxs=oe,O.width=Z(O.width),O.dash=Z(O.dash),O.stroke=Z(O.stroke),O.fill=Z(O.fill);let se,lt=[],wt=[],at,Qe=!1,St={};if(F.live){const t=M[1]?M[1].values:null;Qe=t!=null,at=Qe?t(i,1,0):{_:0};for(let n in at)St[n]=Hn}if(pe)if(se=mt("table",Ds,S),F.mount(i,se),Qe){let t=mt("tr",Ps,se);mt("th",null,t);for(var sl in at)mt("th",vi,t).textContent=sl}else Je(se,Ls),F.live&&Je(se,As);const Ot={show:!0},xt={show:!1};function rl(t,n){if(n==0&&(Qe||!F.live||s==2))return ll;let r=[],f=mt("tr",Cs,se,se.childNodes[n]);Je(f,t.class),t.show||Je(f,zt);let u=mt("th",null,f);if(O.show){let v=et(Rs,u);if(n>0){let k=O.width(i,n);k&&(v.style.border=k+"px "+O.dash(i,n)+" "+O.stroke(i,n)),v.style.background=O.fill(i,n)}}let p=et(vi,u);p.textContent=t.label,n>0&&(O.show||(p.style.color=t.width>0?O.stroke(i,n):O.fill(i,n)),rt("click",u,v=>{if(G._lock)return;let k=M.indexOf(t);if((v.ctrlKey||v.metaKey)!=F.isolate){let P=M.some((y,A)=>A>0&&A!=k&&y.show);M.forEach((y,A)=>{A>0&&ut(A,P?A==k?Ot:xt:Ot,!0,Fe.setSeries)})}else ut(k,{show:!t.show},!0,Fe.setSeries)}),ul&&rt(Ei,u,v=>{G._lock||ut(M.indexOf(t),Ut,!0,Fe.setSeries)}));for(var w in at){let v=mt("td",zs,f);v.textContent="--",r.push(v)}return[f,r]}const ht=new Map;function rt(t,n,r){const f=ht.get(n)||{},u=G.bind[t](i,n,r);u&&(kt(t,n,f[t]=u),ht.set(n,f))}function fl(t,n,r){const f=ht.get(n)||{};for(let u in f)(t==null||u==t)&&(Rn(u,n,f[u]),delete f[u]);t==null&&ht.delete(n)}let Et=0,_t=0,te=0,le=0,K=0,we=0,Ne=0,xe=0,Ge=0,Ee=0;i.bbox={};let nt=!1,We=!1,qe=!1,ft=!1,Tt=!1,Xe=!1;function ln(t,n,r){(r||t!=i.width||n!=i.height)&&Jn(t,n),hl(!1),qe=!0,We=!0,G.left>=0&&(ft=Xe=!0),Lt()}function Jn(t,n){i.width=Et=te=t,i.height=_t=le=n,K=we=0,Io(),Bo();let r=i.bbox;Ne=r.left=Rt(K*ne,.5),xe=r.top=Rt(we*ne,.5),Ge=r.width=Rt(te*ne,.5),Ee=r.height=Rt(le*ne,.5)}const Oo=3;function Go(){let t=!1,n=0;for(;!t;){n++;let r=Xo(n),f=es(n);t=n==Oo||r&&f,t||(Jn(i.width,i.height),We=!0)}}function Wo({width:t,height:n}){ln(t,n)}i.setSize=Wo;function Io(){let t=!1,n=!1,r=!1,f=!1;L.forEach((u,p)=>{if(u.show&&u._show){let{side:w,_size:v}=u,k=w%2,P=u.label!=null?u.labelSize:0,y=v+P;y>0&&(k?(te-=y,w==3?(K+=y,f=!0):r=!0):(le-=y,w==0?(we+=y,t=!0):n=!0))}}),At[0]=t,At[1]=r,At[2]=n,At[3]=f,te-=yt[1]+yt[3],K+=yt[3],le-=yt[2]+yt[0],we+=yt[0]}function Bo(){let t=K+te,n=we+le,r=K,f=we;function u(p,w){switch(p){case 1:return t+=w,t-w;case 2:return n+=w,n-w;case 3:return r-=w,r+w;case 0:return f-=w,f+w}}L.forEach((p,w)=>{if(p.show&&p._show){let v=p.side;p._pos=u(v,p._size),p.label!=null&&(p._lpos=u(v,p.labelSize))}})}const G=i.cursor=be({},Rr,{drag:{y:s==2}},e.cursor);{G.idxs=oe,G._lock=!1;let t=G.points;t.show=Z(t.show),t.size=Z(t.size),t.stroke=Z(t.stroke),t.width=Z(t.width),t.fill=Z(t.fill)}const Dt=i.focus=be({},e.focus||{alpha:.3},G.focus);Dt.bias!=0&&(Dt.prox=1e5);const ul=Dt.prox>=0;let Ye=[null];function Uo(t,n){if(n>0){let r=G.points.show(i,n);if(r)return Je(r,Ts),Je(r,t.class),Jt(r,-10,-10,te,le),E.insertBefore(r,Ye[n]),r}}function Zn(t,n){if(s==1||n>0){let r=s==1&&x[t.scale].time,f=t.value;t.value=r?Gi(f)?qi(ce,ji(f,B)):f||ee:f||Yr,t.label=t.label||(r?Vr:Fr)}if(n>0){t.width=t.width==null?1:t.width,t.paths=t.paths||sf||qs,t.fillTo=Z(t.fillTo||Zr),t.pxAlign=+ie(t.pxAlign,R),t.pxRound=lo(t.pxAlign),t.stroke=Z(t.stroke||null),t.fill=Z(t.fill||null),t._stroke=t._fill=t._paths=t._focus=null;let r=Kr(ke(1,t.width),1),f=t.points=be({},{size:r,width:ke(1,r*.2),stroke:t.stroke,space:r*2,paths:rf,_stroke:null,_fill:null},t.points);f.show=Z(f.show),f.filter=Z(f.filter),f.fill=Z(f.fill),f.stroke=Z(f.stroke),f.paths=Z(f.paths),f.pxAlign=t.pxAlign}if(pe){let r=rl(t,n);lt.splice(n,0,r[0]),wt.splice(n,0,r[1]),F.values.push(null)}if(G.show){oe.splice(n,0,null);let r=Uo(t,n);r&&Ye.splice(n,0,r)}ze("addSeries",n)}function Yo(t,n){n=n??M.length,t=s==1?Vn(t,n,Zi,eo):Vn(t,n,null,Xi),M.splice(n,0,t),Zn(M[n],n)}i.addSeries=Yo;function Ko(t){if(M.splice(t,1),pe){F.values.splice(t,1),wt.splice(t,1);let n=lt.splice(t,1)[0];fl(null,n.firstChild),n.remove()}G.show&&(oe.splice(t,1),Ye.length>1&&Ye.splice(t,1)[0].remove()),ze("delSeries",t)}i.delSeries=Ko;const At=[!1,!1,!1,!1];function jo(t,n){if(t._show=t.show,t.show){let r=t.side%2,f=x[t.scale];f==null&&(t.scale=r?M[1].scale:T,f=x[t.scale]);let u=f.time;t.size=Z(t.size),t.space=Z(t.space),t.rotate=Z(t.rotate),t.incrs=Z(t.incrs||(f.distr==2?pr:u?z==1?dr:_r:mr)),t.splits=Z(t.splits||(u&&f.distr==1?$e:f.distr==3?zn:f.distr==4?Or:Hr)),t.stroke=Z(t.stroke),t.grid.stroke=Z(t.grid.stroke),t.ticks.stroke=Z(t.ticks.stroke),t.border.stroke=Z(t.border.stroke);let p=t.values;t.values=Ft(p)&&!Ft(p[0])?Z(p):u?Ft(p)?Ki(ce,Yi(p,B)):Gi(p)?br(ce,p):p||Ce:p||Nr,t.filter=Z(t.filter||(f.distr>=3&&f.log==10?Ur:fo)),t.font=oo(t.font),t.labelFont=oo(t.labelFont),t._size=t.size(i,null,n,0),t._space=t._rotate=t._incrs=t._found=t._splits=t._values=null,t._size>0&&(At[n]=!0,t._el=et(Ms,D))}}function cl(t,n,r,f){let[u,p,w,v]=r,k=n%2,P=0;return k==0&&(v||p)&&(P=n==0&&!u||n==2&&!w?Ve(Ji.size/3):0),k==1&&(u||w)&&(P=n==1&&!p||n==3&&!v?Ve($i.size/2):0),P}const $n=i.padding=(e.padding||[cl,cl,cl,cl]).map(t=>Z(ie(t,cl))),yt=i._padding=$n.map((t,n)=>t(i,n,At,0));let Te,De=null,Ae=null;const Dl=s==1?M[0].idxs:null;let it=null,Al=!1;function Qn(t,n){if(l=t==null?[]:Vt(t,Wi),s==2){Te=0;for(let r=1;r<M.length;r++)Te+=l[r][0].length;i.data=l=t}else if(l[0]==null&&(l[0]=[]),i.data=l.slice(),it=l[0],Te=it.length,N==2){l[0]=Array(Te);for(let r=0;r<Te;r++)l[0][r]=r}if(i._data=l,hl(!0),ze("setData"),N==2&&(qe=!0),n!==!1){let r=b;r.auto(i,Al)?nn():Bt(T,r.min,r.max),ft=G.left>=0,Xe=!0,Lt()}}i.setData=Qn;function nn(){Al=!0;let t,n;s==1&&(Te>0?(De=Dl[0]=0,Ae=Dl[1]=Te-1,t=l[0][De],n=l[0][Ae],N==2?(t=De,n=Ae):Te==1&&(N==3?[t,n]=ql(t,t,b.log,!1):N==4?[t,n]=Gn(t,t,b.log,!1):b.time?n=t+Ve(86400/z):[t,n]=Ul(t,n,Wn,!0))):(De=Dl[0]=t=null,Ae=Dl[1]=n=null)),Bt(T,t,n)}let Ll,Gt,on,sn,rn,fn,un,cn,an,al;function Xn(t,n,r,f,u,p){t??(t=Mi),r??(r=co),f??(f="butt"),u??(u=Mi),p??(p="round"),t!=Ll&&(h.strokeStyle=Ll=t),u!=Gt&&(h.fillStyle=Gt=u),n!=on&&(h.lineWidth=on=n),p!=rn&&(h.lineJoin=rn=p),f!=fn&&(h.lineCap=fn=f),r!=sn&&h.setLineDash(sn=r)}function ei(t,n,r,f){n!=Gt&&(h.fillStyle=Gt=n),t!=un&&(h.font=un=t),r!=cn&&(h.textAlign=cn=r),f!=an&&(h.textBaseline=an=f)}function hn(t,n,r,f,u=0){if(f.length>0&&t.auto(i,Al)&&(n==null||n.min==null)){let p=ie(De,0),w=ie(Ae,f.length-1),v=r.min==null?t.distr==3?Ws(f,p,w):Gs(f,p,w,u):[r.min,r.max];t.min=Be(t.min,r.min=v[0]),t.max=ke(t.max,r.max=v[1])}}function qo(){let t=Vt(x,Wi);for(let f in t){let u=t[f],p=U[f];if(p!=null&&p.min!=null)be(u,p),f==T&&hl(!0);else if(f!=T||s==2)if(Te==0&&u.from==null){let w=u.range(i,null,null,f);u.min=w[0],u.max=w[1]}else u.min=$,u.max=-$}if(Te>0){M.forEach((f,u)=>{if(s==1){let p=f.scale,w=t[p],v=U[p];if(u==0){let k=w.range(i,w.min,w.max,p);w.min=k[0],w.max=k[1],De=Mt(w.min,l[0]),Ae=Mt(w.max,l[0]),Ae-De>1&&(l[0][De]<w.min&&De++,l[0][Ae]>w.max&&Ae--),f.min=it[De],f.max=it[Ae]}else f.show&&f.auto&&hn(w,v,f,l[u],f.sorted);f.idxs[0]=De,f.idxs[1]=Ae}else if(u>0&&f.show&&f.auto){let[p,w]=f.facets,v=p.scale,k=w.scale,[P,y]=l[u];hn(t[v],U[v],p,P,p.sorted),hn(t[k],U[k],w,y,w.sorted),f.min=w.min,f.max=w.max}});for(let f in t){let u=t[f],p=U[f];if(u.from==null&&(p==null||p.min==null)){let w=u.range(i,u.min==$?null:u.min,u.max==-$?null:u.max,f);u.min=w[0],u.max=w[1]}}}for(let f in t){let u=t[f];if(u.from!=null){let p=t[u.from];if(p.min==null)u.min=u.max=null;else{let w=u.range(i,p.min,p.max,f);u.min=w[0],u.max=w[1]}}}let n={},r=!1;for(let f in t){let u=t[f],p=x[f];if(p.min!=u.min||p.max!=u.max){p.min=u.min,p.max=u.max;let w=p.distr;p._min=w==3?gt(p.min):w==4?En(p.min,p.asinh):p.min,p._max=w==3?gt(p.max):w==4?En(p.max,p.asinh):p.max,n[f]=r=!0}}if(r){M.forEach((f,u)=>{s==2?u>0&&n.y&&(f._paths=null):n[f.scale]&&(f._paths=null)});for(let f in n)qe=!0,ze("setScale",f);G.show&&G.left>=0&&(ft=Xe=!0)}for(let f in U)U[f]=null}function Jo(t){let n=Ni(De-1,0,Te-1),r=Ni(Ae+1,0,Te-1);for(;t[n]==null&&n>0;)n--;for(;t[r]==null&&r<Te-1;)r++;return[n,r]}function Zo(){Te>0&&(M.forEach((t,n)=>{if(n>0&&t.show&&t._paths==null){let r=s==2?[0,l[n][0].length-1]:Jo(l[n]);t._paths=t.paths(i,n,r[0],r[1])}}),M.forEach((t,n)=>{if(n>0&&t.show){al!=t.alpha&&(h.globalAlpha=al=t.alpha),ti(n,!1),t._paths&&li(n,!1);{ti(n,!0);let r=t._paths?t._paths.gaps:null,f=t.points.show(i,n,De,Ae,r),u=t.points.filter(i,n,f,r);(f||u)&&(t.points._paths=t.points.paths(i,n,De,Ae,u),li(n,!0))}al!=1&&(h.globalAlpha=al=1),ze("drawSeries",n)}}))}function ti(t,n){let r=n?M[t].points:M[t];r._stroke=r.stroke(i,t),r._fill=r.fill(i,t)}function li(t,n){let r=n?M[t].points:M[t],f=r._stroke,u=r._fill,{stroke:p,fill:w,clip:v,flags:k}=r._paths,P=null,y=ae(r.width*ne,3),A=y%2/2;n&&u==null&&(u=y>0?"#fff":f);let Y=r.pxAlign==1;if(Y&&h.translate(A,A),!n){let Se=Ne,j=xe,re=Ge,q=Ee,fe=y*ne/2;r.min==0&&(q+=fe),r.max==0&&(j-=fe,q+=fe),P=new Path2D,P.rect(Se,j,re,q)}n?pn(f,y,r.dash,r.cap,u,p,w,k,v):$o(t,f,y,r.dash,r.cap,u,p,w,k,P,v),Y&&h.translate(-A,-A)}function $o(t,n,r,f,u,p,w,v,k,P,y){let A=!1;H.forEach((Y,Se)=>{if(Y.series[0]==t){let j=M[Y.series[1]],re=l[Y.series[1]],q=(j._paths||El).band;Ft(q)&&(q=Y.dir==1?q[0]:q[1]);let fe,ye=null;j.show&&q&&Bs(re,De,Ae)?(ye=Y.fill(i,Se)||p,fe=j._paths.clip):q=null,pn(n,r,f,u,ye,w,v,k,P,y,fe,q),A=!0}}),A||pn(n,r,f,u,p,w,v,k,P,y)}const ni=Nt|jl;function pn(t,n,r,f,u,p,w,v,k,P,y,A){Xn(t,n,r,f,u),(k||P||A)&&(h.save(),k&&h.clip(k),P&&h.clip(P)),A?(v&ni)==ni?(h.clip(A),y&&h.clip(y),Cl(u,w),Pl(t,p,n)):v&jl?(Cl(u,w),h.clip(A),Pl(t,p,n)):v&Nt&&(h.save(),h.clip(A),y&&h.clip(y),Cl(u,w),h.restore(),Pl(t,p,n)):(Cl(u,w),Pl(t,p,n)),(k||P||A)&&h.restore()}function Pl(t,n,r){r>0&&(n instanceof Map?n.forEach((f,u)=>{h.strokeStyle=Ll=u,h.stroke(f)}):n!=null&&t&&h.stroke(n))}function Cl(t,n){n instanceof Map?n.forEach((r,f)=>{h.fillStyle=Gt=f,h.fill(r)}):n!=null&&t&&h.fill(n)}function Qo(t,n,r,f){let u=L[t],p;if(f<=0)p=[0,0];else{let w=u._space=u.space(i,t,n,r,f),v=u._incrs=u.incrs(i,t,n,r,f,w);p=pf(n,r,v,f,w)}return u._found=p}function mn(t,n,r,f,u,p,w,v,k,P){let y=w%2/2;R==1&&h.translate(y,y),Xn(v,w,k,P,v),h.beginPath();let A,Y,Se,j,re=u+(f==0||f==3?-p:p);r==0?(Y=u,j=re):(A=u,Se=re);for(let q=0;q<t.length;q++)n[q]!=null&&(r==0?A=Se=t[q]:Y=j=t[q],h.moveTo(A,Y),h.lineTo(Se,j));h.stroke(),R==1&&h.translate(-y,-y)}function Xo(t){let n=!0;return L.forEach((r,f)=>{if(!r.show)return;let u=x[r.scale];if(u.min==null){r._show&&(n=!1,r._show=!1,hl(!1));return}else r._show||(n=!1,r._show=!0,hl(!1));let p=r.side,w=p%2,{min:v,max:k}=u,[P,y]=Qo(f,v,k,w==0?te:le);if(y==0)return;let A=u.distr==2,Y=r._splits=r.splits(i,f,v,k,P,y,A),Se=u.distr==2?Y.map(fe=>it[fe]):Y,j=u.distr==2?it[Y[1]]-it[Y[0]]:P,re=r._values=r.values(i,r.filter(i,Se,f,y,j),f,y,j);r._rotate=p==2?r.rotate(i,re,f,y):0;let q=r._size;r._size=Yl(r.size(i,re,f,t)),q!=null&&r._size!=q&&(n=!1)}),n}function es(t){let n=!0;return $n.forEach((r,f)=>{let u=r(i,f,At,t);u!=yt[f]&&(n=!1),yt[f]=u}),n}function ts(){for(let t=0;t<L.length;t++){let n=L[t];if(!n.show||!n._show)continue;let r=n.side,f=r%2,u,p,w=n.stroke(i,t),v=r==0||r==3?-1:1;if(n.label){let st=n.labelGap*v,pt=Ve((n._lpos+st)*ne);ei(n.labelFont[0],w,"center",r==2?yl:bi),h.save(),f==1?(u=p=0,h.translate(pt,Ve(xe+Ee/2)),h.rotate((r==3?-Il:Il)/2)):(u=Ve(Ne+Ge/2),p=pt),h.fillText(n.label,u,p),h.restore()}let[k,P]=n._found;if(P==0)continue;let y=x[n.scale],A=f==0?Ge:Ee,Y=f==0?Ne:xe,Se=Ve(n.gap*ne),j=n._splits,re=y.distr==2?j.map(st=>it[st]):j,q=y.distr==2?it[j[1]]-it[j[0]]:k,fe=n.ticks,ye=n.border,je=fe.show?Ve(fe.size*ne):0,he=n._rotate*-Il/180,ve=J(n._pos*ne),He=(je+Se)*v,_e=ve+He;p=f==0?_e:0,u=f==1?_e:0;let Ie=n.font[0],ot=n.align==1?qt:n.align==2?kn:he>0?qt:he<0?kn:f==0?"center":r==3?kn:qt,bt=he||f==1?"middle":r==2?yl:bi;ei(Ie,w,ot,bt);let wi=n.font[1]*zr,Hl=j.map(st=>J(g(st,y,A,Y))),Si=n._values;for(let st=0;st<Si.length;st++){let pt=Si[st];if(pt!=null){f==0?u=Hl[st]:p=Hl[st],pt=""+pt;let _i=pt.indexOf(`
`)==-1?[pt]:pt.split(/\n/gm);for(let _l=0;_l<_i.length;_l++){let yi=_i[_l];he?(h.save(),h.translate(u,p+_l*wi),h.rotate(he),h.fillText(yi,0,0),h.restore()):h.fillText(yi,u,p+_l*wi)}}}fe.show&&mn(Hl,fe.filter(i,re,t,P,q),f,r,ve,je,ae(fe.width*ne,3),fe.stroke(i,t),fe.dash,fe.cap);let jt=n.grid;jt.show&&mn(Hl,jt.filter(i,re,t,P,q),f,f==0?2:1,f==0?xe:Ne,f==0?Ee:Ge,ae(jt.width*ne,3),jt.stroke(i,t),jt.dash,jt.cap),ye.show&&mn([ve],[1],f==0?1:0,f==0?1:2,f==1?xe:Ne,f==1?Ee:Ge,ae(ye.width*ne,3),ye.stroke(i,t),ye.dash,ye.cap)}ze("drawAxes")}function hl(t){M.forEach((n,r)=>{r>0&&(n._paths=null,t&&(s==1?(n.min=null,n.max=null):n.facets.forEach(f=>{f.min=null,f.max=null})))})}let gn=!1;function Lt(){gn||(ir(ls),gn=!0)}function ls(){nt&&(qo(),nt=!1),qe&&(Go(),qe=!1),We&&(de(C,qt,K),de(C,yl,we),de(C,bl,te),de(C,Ml,le),de(E,qt,K),de(E,yl,we),de(E,bl,te),de(E,Ml,le),de(D,bl,Et),de(D,Ml,_t),_.width=Ve(Et*ne),_.height=Ve(_t*ne),L.forEach(({_el:t,_show:n,_size:r,_pos:f,side:u})=>{if(t!=null)if(n){let p=u===3||u===0?r:0,w=u%2==1;de(t,w?"left":"top",f-p),de(t,w?"width":"height",r),de(t,w?"top":"left",w?we:K),de(t,w?"height":"width",w?le:te),Cn(t,zt)}else Je(t,zt)}),Ll=Gt=on=rn=fn=un=cn=an=sn=null,al=1,Vl(!0),ze("setSize"),We=!1),Et>0&&_t>0&&(h.clearRect(0,0,_.width,_.height),ze("drawClear"),W.forEach(t=>t()),ze("draw")),Ke.show&&Tt&&(Fl(Ke),Tt=!1),G.show&&ft&&(Ct(null,!0,!1),ft=!1),F.show&&F.live&&Xe&&(_n(),Xe=!1),m||(m=!0,i.status=1,ze("ready")),Al=!1,gn=!1}i.redraw=(t,n)=>{qe=n||!1,t!==!1?Bt(T,b.min,b.max):Lt()};function dn(t,n){let r=x[t];if(r.from==null){if(Te==0){let f=r.range(i,n.min,n.max,t);n.min=f[0],n.max=f[1]}if(n.min>n.max){let f=n.min;n.min=n.max,n.max=f}if(Te>1&&n.min!=null&&n.max!=null&&n.max-n.min<1e-16)return;t==T&&r.distr==2&&Te>0&&(n.min=Mt(n.min,l[0]),n.max=Mt(n.max,l[0]),n.min==n.max&&n.max++),U[t]=n,nt=!0,Lt()}}i.setScale=dn;let wn,Sn,Rl,zl,ii,oi,Wt,It,si,ri,me,ge,vt=!1;const Re=G.drag;let Le=Re.x,Pe=Re.y;G.show&&(G.x&&(wn=et(xs,E)),G.y&&(Sn=et(Es,E)),b.ori==0?(Rl=wn,zl=Sn):(Rl=Sn,zl=wn),me=G.left,ge=G.top);const Ke=i.select=be({show:!0,over:!0,left:0,width:0,top:0,height:0},e.select),pl=Ke.show?et(ks,Ke.over?E:C):null;function Fl(t,n){if(Ke.show){for(let r in t)Ke[r]=t[r],r in ai&&de(pl,r,t[r]);n!==!1&&ze("setSelect")}}i.setSelect=Fl;function ns(t,n){let r=M[t],f=pe?lt[t]:null;r.show?f&&Cn(f,zt):(f&&Je(f,zt),Ye.length>1&&Jt(Ye[t],-10,-10,te,le))}function Bt(t,n,r){dn(t,{min:n,max:r})}function ut(t,n,r,f){n.focus!=null&&fs(t),n.show!=null&&M.forEach((u,p)=>{p>0&&(t==p||t==null)&&(u.show=n.show,ns(p,n.show),Bt(s==2?u.facets[1].scale:u.scale,null,null),Lt())}),r!==!1&&ze("setSeries",t,n),f&&Sl("setSeries",i,t,n)}i.setSeries=ut;function is(t,n){be(H[t],n)}function os(t,n){t.fill=Z(t.fill||null),t.dir=ie(t.dir,-1),n=n??H.length,H.splice(n,0,t)}function ss(t){t==null?H.length=0:H.splice(t,1)}i.addBand=os,i.setBand=is,i.delBand=ss;function rs(t,n){M[t].alpha=n,G.show&&Ye[t]&&(Ye[t].style.opacity=n),pe&&lt[t]&&(lt[t].style.opacity=n)}let Pt,ml,gl;const Ut={focus:!0};function fs(t){if(t!=gl){let n=t==null,r=Dt.alpha!=1;M.forEach((f,u)=>{let p=n||u==0||u==t;f._focus=n?null:p,r&&rs(u,p?1:Dt.alpha)}),gl=t,r&&Lt()}}pe&&ul&&kt(Ti,se,t=>{G._lock||gl!=null&&ut(null,Ut,!0,Fe.setSeries)});function ct(t,n,r){let f=x[n];r&&(t=t/ne-(f.ori==1?we:K));let u=te;f.ori==1&&(u=le,t=u-t),f.dir==-1&&(t=u-t);let p=f._min,w=f._max,v=t/u,k=p+(w-p)*v,P=f.distr;return P==3?Xt(10,k):P==4?Ys(k,f.asinh):k}function us(t,n){let r=ct(t,T,n);return Mt(r,l[0],De,Ae)}i.valToIdx=t=>Mt(t,l[0]),i.posToIdx=us,i.posToVal=ct,i.valToPos=(t,n,r)=>x[n].ori==0?c(t,x[n],r?Ge:te,r?Ne:0):d(t,x[n],r?Ee:le,r?xe:0);function cs(t){t(i),Lt()}i.batch=cs,i.setCursor=(t,n,r)=>{me=t.left,ge=t.top,Ct(null,n,r)};function fi(t,n){de(pl,qt,Ke.left=t),de(pl,bl,Ke.width=n)}function ui(t,n){de(pl,yl,Ke.top=t),de(pl,Ml,Ke.height=n)}let dl=b.ori==0?fi:ui,wl=b.ori==1?fi:ui;function as(){if(pe&&F.live)for(let t=s==2?1:0;t<M.length;t++){if(t==0&&Qe)continue;let n=F.values[t],r=0;for(let f in n)wt[t][r++].firstChild.nodeValue=n[f]}}function _n(t,n){t!=null&&(t.idxs?t.idxs.forEach((r,f)=>{oe[f]=r}):$s(t.idx)||oe.fill(t.idx),F.idx=oe[0]);for(let r=0;r<M.length;r++)(r>0||s==1&&!Qe)&&hs(r,oe[r]);pe&&F.live&&as(),Xe=!1,n!==!1&&ze("setLegend")}i.setLegend=_n;function hs(t,n){let r=M[t],f=t==0&&N==2?it:l[t],u;Qe?u=r.values(i,t,n)??St:(u=r.value(i,n==null?null:f[n],t,n),u=u==null?St:{_:u}),F.values[t]=u}function Ct(t,n,r){si=me,ri=ge,[me,ge]=G.move(i,me,ge),G.show&&(Rl&&Jt(Rl,Ve(me),0,te,le),zl&&Jt(zl,0,Ve(ge),te,le));let f,u=De>Ae;Pt=$;let p=b.ori==0?te:le,w=b.ori==1?te:le;if(me<0||Te==0||u){f=null;for(let v=0;v<M.length;v++)v>0&&Ye.length>1&&Jt(Ye[v],-10,-10,te,le);ul&&ut(null,Ut,!0,t==null&&Fe.setSeries),F.live&&(oe.fill(f),Xe=!0)}else{let v,k,P;s==1&&(v=b.ori==0?me:ge,k=ct(v,T),f=Mt(k,l[0],De,Ae),P=Q(l[0][f],b,p,0));for(let y=s==2?1:0;y<M.length;y++){let A=M[y],Y=oe[y],Se=s==1?l[y][Y]:l[y][1][Y],j=G.dataIdx(i,y,f,k),re=s==1?l[y][j]:l[y][1][j];Xe=Xe||re!=Se||j!=Y,oe[y]=j;let q=tl(j==f?P:Q(s==1?l[0][j]:l[y][0][j],b,p,0),1);if(y>0&&A.show){let fe=re==null?-10:tl(X(re,s==1?x[A.scale]:x[A.facets[1].scale],w,0),1);if(ul&&fe>=0&&s==1){let he=Oe(fe-ge),ve=Dt.bias;if(ve!=0){let He=b.ori==1?me:ge,_e=ct(He,A.scale),Ie=re>=0?1:-1,ot=_e>=0?1:-1;ot==Ie&&he<Pt&&(ot==1?ve==1?re>=_e:re<=_e:ve==1?re<=_e:re>=_e)&&(Pt=he,ml=y)}else he<Pt&&(Pt=he,ml=y)}let ye,je;if(b.ori==0?(ye=q,je=fe):(ye=fe,je=q),Xe&&Ye.length>1){Hs(Ye[y],G.points.fill(i,y),G.points.stroke(i,y));let he,ve,He,_e,Ie=!0,ot=G.points.bbox;if(ot!=null){Ie=!1;let bt=ot(i,y);He=bt.left,_e=bt.top,he=bt.width,ve=bt.height}else He=ye,_e=je,he=ve=G.points.size(i,y);Os(Ye[y],he,ve,Ie),Jt(Ye[y],He,_e,te,le)}}}}if(G.idx=f,G.left=me,G.top=ge,Xe&&(F.idx=f,_n()),Ke.show&&vt)if(t!=null){let[v,k]=Fe.scales,[P,y]=Fe.match,[A,Y]=t.cursor.sync.scales,Se=t.cursor.drag;if(Le=Se._x,Pe=Se._y,Le||Pe){let{left:j,top:re,width:q,height:fe}=t.select,ye=t.scales[v].ori,je=t.posToVal,he,ve,He,_e,Ie,ot=v!=null&&P(v,A),bt=k!=null&&y(k,Y);ot&&Le?(ye==0?(he=j,ve=q):(he=re,ve=fe),He=x[v],_e=Q(je(he,A),He,p,0),Ie=Q(je(he+ve,A),He,p,0),dl(Be(_e,Ie),Oe(Ie-_e))):dl(0,p),bt&&Pe?(ye==1?(he=j,ve=q):(he=re,ve=fe),He=x[k],_e=X(je(he,Y),He,w,0),Ie=X(je(he+ve,Y),He,w,0),wl(Be(_e,Ie),Oe(Ie-_e))):wl(0,w)}else vn()}else{let v=Oe(si-ii),k=Oe(ri-oi);if(b.ori==1){let Y=v;v=k,k=Y}Le=Re.x&&v>=Re.dist,Pe=Re.y&&k>=Re.dist;let P=Re.uni;P!=null?Le&&Pe&&(Le=v>=P,Pe=k>=P,!Le&&!Pe&&(k>v?Pe=!0:Le=!0)):Re.x&&Re.y&&(Le||Pe)&&(Le=Pe=!0);let y,A;Le&&(b.ori==0?(y=Wt,A=me):(y=It,A=ge),dl(Be(y,A),Oe(A-y)),Pe||wl(0,w)),Pe&&(b.ori==1?(y=Wt,A=me):(y=It,A=ge),wl(Be(y,A),Oe(A-y)),Le||dl(0,p)),!Le&&!Pe&&(dl(0,0),wl(0,0))}if(Re._x=Le,Re._y=Pe,t==null){if(r){if(di!=null){let[v,k]=Fe.scales;Fe.values[0]=v!=null?ct(b.ori==0?me:ge,v):null,Fe.values[1]=k!=null?ct(b.ori==1?me:ge,k):null}Sl(ki,i,me,ge,te,le,f)}if(ul){let v=r&&Fe.setSeries,k=Dt.prox;gl==null?Pt<=k&&ut(ml,Ut,!0,v):Pt>k?ut(null,Ut,!0,v):ml!=gl&&ut(ml,Ut,!0,v)}}n!==!1&&ze("setCursor")}let Yt=null;function Vl(t){t===!0?Yt=null:(Yt=E.getBoundingClientRect(),ze("syncRect",Yt))}function ci(t,n,r,f,u,p,w){G._lock||vt&&t!=null&&t.movementX==0&&t.movementY==0||(yn(t,n,r,f,u,p,w,!1,t!=null),t!=null?Ct(null,!0,!0):Ct(n,!0,!1))}function yn(t,n,r,f,u,p,w,v,k){if(Yt==null&&Vl(!1),t!=null)r=t.clientX-Yt.left,f=t.clientY-Yt.top;else{if(r<0||f<0){me=-10,ge=-10;return}let[P,y]=Fe.scales,A=n.cursor.sync,[Y,Se]=A.values,[j,re]=A.scales,[q,fe]=Fe.match,ye=n.axes[0].side%2==1,je=b.ori==0?te:le,he=b.ori==1?te:le,ve=ye?p:u,He=ye?u:p,_e=ye?f:r,Ie=ye?r:f;if(j!=null?r=q(P,j)?g(Y,x[P],je,0):-10:r=je*(_e/ve),re!=null?f=fe(y,re)?g(Se,x[y],he,0):-10:f=he*(Ie/He),b.ori==1){let ot=r;r=f,f=ot}}k&&((r<=1||r>=te-1)&&(r=Rt(r,te)),(f<=1||f>=le-1)&&(f=Rt(f,le))),v?(ii=r,oi=f,[Wt,It]=G.move(i,r,f)):(me=r,ge=f)}const ai={width:0,height:0,left:0,top:0};function vn(){Fl(ai,!1)}function hi(t,n,r,f,u,p,w){vt=!0,Le=Pe=Re._x=Re._y=!1,yn(t,n,r,f,u,p,w,!0,!1),t!=null&&(rt(xn,Ln,pi),Sl(xi,i,Wt,It,te,le,null))}function pi(t,n,r,f,u,p,w){vt=Re._x=Re._y=!1,yn(t,n,r,f,u,p,w,!1,!0);let{left:v,top:k,width:P,height:y}=Ke,A=P>0||y>0;if(A&&Fl(Ke),Re.setScale&&A){let Y=v,Se=P,j=k,re=y;if(b.ori==1&&(Y=k,Se=y,j=v,re=P),Le&&Bt(T,ct(Y,T),ct(Y+Se,T)),Pe)for(let q in x){let fe=x[q];q!=T&&fe.from==null&&fe.min!=$&&Bt(q,ct(j+re,q),ct(j,q))}vn()}else G.lock&&(G._lock=!G._lock,G._lock||Ct(null,!0,!1));t!=null&&(fl(xn,Ln),Sl(xn,i,me,ge,te,le,null))}function ps(t,n,r,f,u,p,w){if(!G._lock){let v=vt;if(vt){let k=!0,P=!0,y=10,A,Y;b.ori==0?(A=Le,Y=Pe):(A=Pe,Y=Le),A&&Y&&(k=me<=y||me>=te-y,P=ge<=y||ge>=le-y),A&&k&&(me=me<Wt?0:te),Y&&P&&(ge=ge<It?0:le),Ct(null,!0,!0),vt=!1}me=-10,ge=-10,Ct(null,!0,!0),v&&(vt=v)}}function mi(t,n,r,f,u,p,w){nn(),vn(),t!=null&&Sl(Di,i,me,ge,te,le,null)}function gi(){L.forEach(mf),ln(i.width,i.height,!0)}kt(Bl,$t,gi);const Kt={};Kt.mousedown=hi,Kt.mousemove=ci,Kt.mouseup=pi,Kt.dblclick=mi,Kt.setSeries=(t,n,r,f)=>{ut(r,f,!0,!1)},G.show&&(rt(xi,E,hi),rt(ki,E,ci),rt(Ei,E,Vl),rt(Ti,E,ps),rt(Di,E,mi),Fn.add(i),i.syncRect=Vl);const Nl=i.hooks=e.hooks||{};function ze(t,n,r){t in Nl&&Nl[t].forEach(f=>{f.call(null,i,n,r)})}(e.plugins||[]).forEach(t=>{for(let n in t.hooks)Nl[n]=(Nl[n]||[]).concat(t.hooks[n])});const Fe=be({key:null,setSeries:!1,filters:{pub:Hi,sub:Hi},scales:[T,M[1]?M[1].scale:null],match:[Oi,Oi],values:[null,null]},G.sync);G.sync=Fe;const di=Fe.key,bn=To(di);function Sl(t,n,r,f,u,p,w){Fe.filters.pub(t,n,r,f,u,p,w)&&bn.pub(t,n,r,f,u,p,w)}bn.sub(i);function ms(t,n,r,f,u,p,w){Fe.filters.sub(t,n,r,f,u,p,w)&&Kt[t](null,n,r,f,u,p,w)}i.pub=ms;function gs(){bn.unsub(i),Fn.delete(i),ht.clear(),Rn(Bl,$t,gi),S.remove(),se==null||se.remove(),ze("destroy")}i.destroy=gs;function Mn(){ze("init",e,l),Qn(l||e.data,!1),U[T]?dn(T,U[T]):nn(),Tt=Ke.show,ft=Xe=!0,ln(e.width,e.height)}return M.forEach(Zn),L.forEach(jo),o?o instanceof HTMLElement?(o.appendChild(S),Mn()):o(i,Mn):Mn(),i}Ue.assign=be;Ue.fmtNum=In;Ue.rangeNum=Ul;Ue.rangeLog=ql;Ue.rangeAsinh=Gn;Ue.orient=Ht;Ue.pxRatio=ne;Ue.join=nr;Ue.fmtDate=Bn,Ue.tzDate=ar;Ue.sync=To;{Ue.addGap=$r,Ue.clipGaps=Ql;let e=Ue.paths={points:Ro};e.linear=Fo,e.stepped=ef,e.bars=tf,e.spline=nf}export{Ue as u};
