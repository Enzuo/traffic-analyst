import{s as ie,e as P,t as G,a as $,c as y,b as F,d as Y,f as L,g as w,p as I,i as re,h as p,w as ce,x as ue,y as fe,n as ve,r as Oe,m as Ve,Y as Te,j as Ee,u as ze,q as Ue,v as je,z as me,A as pe,l as ke,D as He,G as Ie,H as Ge,Z as Ye,_ as We,$ as qe}from"../chunks/scheduler.C19aQTI2.js";import{S as se,i as oe,a as U,t as H,c as Q,b as Z,m as J,d as ee,e as xe,g as Xe}from"../chunks/index.B0knyX5n.js";import{e as be}from"../chunks/each.OpygIZJG.js";import{v as Ce}from"../chunks/environment.DcgoGIOT.js";import{h as Ke,u as Qe,C as Ze,a as Je}from"../chunks/index.JSGz7vAS.js";import{c as _e}from"../chunks/PerformanceObserver.CpkuGQ3y.js";import{S as et}from"../chunks/simulation2.CRWH4vD6.js";import{c as tt}from"../chunks/uPlot.min.Sk6Afor8.js";import{D as ge}from"../chunks/TrafficSim.svelte_svelte_type_style_lang.C1bFZHyO.js";import"../chunks/loader.CaIUhdO0.js";function rt(e,t){const r={},i={},n={$$scope:1};let a=e.length;for(;a--;){const s=e[a],o=t[a];if(o){for(const c in s)c in o||(i[c]=1);for(const c in o)n[c]||(r[c]=o[c],n[c]=1);e[a]=o}else for(const c in s)n[c]=1}for(const s in i)s in r||(r[s]=void 0);return r}function nt(e){return typeof e=="object"&&e!==null?e:{}}function at(e){let t,r,i,n,a,s,o,c,l,f,v,h,E,d,u,_,b,A,N,D,k,O;return{c(){t=P("div"),r=P("label"),i=G("RPM "),n=P("input"),a=$(),s=P("label"),o=G("GearRatios "),c=P("input"),l=$(),f=P("label"),v=G("GearSpeed "),h=P("input"),E=$(),d=P("label"),u=G("DriveRatio "),_=P("input"),b=$(),A=P("label"),N=G("WheelDiameter "),D=P("input"),this.h()},l(C){t=y(C,"DIV",{class:!0});var m=F(t);r=y(m,"LABEL",{for:!0});var V=F(r);i=Y(V,"RPM "),n=y(V,"INPUT",{id:!0}),V.forEach(L),a=w(m),s=y(m,"LABEL",{for:!0});var g=F(s);o=Y(g,"GearRatios "),c=y(g,"INPUT",{id:!0}),g.forEach(L),l=w(m),f=y(m,"LABEL",{for:!0});var T=F(f);v=Y(T,"GearSpeed "),h=y(T,"INPUT",{id:!0}),T.forEach(L),E=w(m),d=y(m,"LABEL",{for:!0});var R=F(d);u=Y(R,"DriveRatio "),_=y(R,"INPUT",{id:!0,type:!0}),R.forEach(L),b=w(m),A=y(m,"LABEL",{for:!0});var M=F(A);N=Y(M,"WheelDiameter "),D=y(M,"INPUT",{id:!0,type:!0,placeholder:!0}),M.forEach(L),m.forEach(L),this.h()},h(){I(n,"id","rpm"),n.value=Fe,I(r,"for","rpm"),I(c,"id","gear-ratio"),c.value=it,I(s,"for","gear-ratio"),I(h,"id","gear-speed"),h.value=e[0],I(f,"for","gear-speed"),I(_,"id","drive-ratio"),I(_,"type","number"),I(d,"for","drive-ratio"),I(D,"id","wheel-diameter"),I(D,"type","number"),I(D,"placeholder","cm"),I(A,"for","wheel-diameter"),I(t,"class","grid")},m(C,m){re(C,t,m),p(t,r),p(r,i),p(r,n),p(t,a),p(t,s),p(s,o),p(s,c),p(t,l),p(t,f),p(f,v),p(f,h),p(t,E),p(t,d),p(d,u),p(d,_),ce(_,e[1]),p(t,b),p(t,A),p(A,N),p(A,D),ce(D,e[2]),k||(O=[ue(c,"input",e[3]),ue(_,"input",e[4]),ue(D,"input",e[5])],k=!0)},p(C,[m]){m&1&&h.value!==C[0]&&(h.value=C[0]),m&2&&fe(_.value)!==C[1]&&ce(_,C[1]),m&4&&fe(D.value)!==C[2]&&ce(D,C[2])},i:ve,o:ve,d(C){C&&L(t),k=!1,Oe(O)}}}let Fe=0,it=0;function st(e,t,r){let i="",n=4,a=63;function s(f){let v=f.target.value;o(v)}function o(f){let v=f.split(","),h=[];for(let E=0;E<v.length;E++){let d=parseFloat(v[E]);console.log("drive ratio",n);let u=Ke(Fe,d,n,a);h.push((u*3.6).toFixed(1))}r(0,i=h.join(", "))}function c(){n=fe(this.value),r(1,n)}function l(){a=fe(this.value),r(2,a)}return[i,n,a,s,c,l]}class ot extends se{constructor(t){super(),oe(this,t,st,at,ie,{})}}function lt(){const e=tt(),t=_e("TrafficSimulation"),r=[de(20),de(-20)],i=[he(r[0]),he(r[1],25,$e.DEFENSIVE)],n=we(2e3),a=2e3,s=et();let o;return s.subscribeTick((c,l)=>{t.measureStart(),n.tickAtInterval(c,()=>{let f=Math.min(-20,o?o.state.position-10:-20),v=de(f,o?o.state.speed:20);o=v;let h=he(v);r.push(v),i.push(h),e.emit("car_created",v)}),i.forEach(f=>{f.think(c,l,r)}),r.forEach((f,v)=>{Qe(f,l);let h=f.state.speed;f.state.position+=h*(l/1e3),f.state.position>a&&(r.shift(),i.shift())}),t.measureEnd()}),{...s,simulation:s,cars:r,drivers:i,findCarDriver:ct,...e,debug:{perf:t}}}function de(e=0,t=0){let r=new Ze(Je("renault_zoe"));return r.state.position=e,r.state.speed=t,r}function ct(e,t){return t.findIndex(r=>r.car.id===e.id)}let $e={AGGRESSIVE:{MIN_TIME_TO_CONTACT:.5,UNEASY_TTI:3.5,IDEAL_TTC:.7,ANTICIPATION_TTC:1,MIN_DISTANCE:2,MAX_ACCELERATION:10},NORMAL:{MIN_TIME_TO_CONTACT:.5,UNEASY_TTI:4,IDEAL_TTC:1,ANTICIPATION_TTC:3,MIN_DISTANCE:3,MAX_ACCELERATION:2},DEFENSIVE:{MIN_TIME_TO_CONTACT:2,UNEASY_TTI:5,IDEAL_TTC:4,ANTICIPATION_TTC:30,MIN_DISTANCE:5,MAX_ACCELERATION:1}};function he(e,t=15,r=$e.NORMAL){const n=r.UNEASY_TTI||4,a=r.MIN_TIME_TO_CONTACT||.5,s=r.IDEAL_TTC||1,o=r.ANTICIPATION_TTC||5,c=r.MIN_DISTANCE,l=r.MAX_ACCELERATION||1;r.MAX_THROTTLE;let f=!1,v;const h=we(1e3);let E,d,u,_,b=0,A=0,N,D,k;function O(S,B,W){E=S;const le=B/1e3,j=e.state.speed,te=e.state.acceleration;if(h.tickAtInterval(S,()=>{if(f&&S>v+2e3&&(f=!1),d=ft(e,W),d){let q=d.distance,x=q/j,ne=q/Math.max(e.state.speed-d.car.state.speed,1);if(d.speed+3<j,ne<n){u="cuttingSpeed",_="brake",k=K(n,2.5,.05,.4);return}if(q<c){u="cuttingDistance",_="brake",k=K(c+2,c,0,.2);return}if(x<a){u="increasingTTC",_="throttle",D=K(s,a,d.speed,d.speed-5);return}if(x<o){_="throttle";let X=K(o,s,0,1).getYForX(x);j>d.speed&&(u="easingToTrafficSpeed",N=g(A,X)),j<d.speed&&(u="acceleratingToTrafficSpeed",N=T(A,1-X)),D=K(s,o,d.speed,t);return}}u="travelingToWantedSpeed",_="throttle",N=M(t,j,A,te)}),f){C(.2);return}if(_==="throttle"&&b>0){C(-2*le);return}if(d){let[,q]=ae(d.car,e),x=q/j,ne=q/Math.max(e.state.speed-d.car.state.speed,1);if(ne<2.5/3){u="godBrake",_="brake",C(3,3);return}if(ne<2.5){u="avoidingCrash",_="brake",C(.2);return}if(u==="cuttingSpeed"){let X=k.getYForX(ne);C(.1,X)}if(u==="cuttingDistance"){let X=k.getYForX(q);C(.02,X)}if(u==="increasingTTC"){let X=D.getYForX(x);V(j,X,te)}u==="easingToTrafficSpeed"&&R(N),u==="acceleratingToTrafficSpeed"&&R(N)}u==="travelingToWantedSpeed"&&R(N)}function C(S,B=1){A=0,e.state.throttleInput=0,b=b+S,b=Math.min(Math.max(b,0),B),e.state.brakeInput=b}function m(S,B=1){b=0,e.state.brakeInput=0,A=A+S,A=Math.min(Math.max(A,0),B),e.state.throttleInput=A}function V(S,B,W){S<B&&W<l&&m(.05),S>B&&m(-.05)}function g(S,B,W){return S-(.3+.2*Math.random())*B}function T(S,B,W){return S+(.3+.2*Math.random())*B}function R(S){if(A+.01<S)return m(.02);if(A-.01>S)return m(-.02)}function M(S,B,W,le,j=4){let te,x=(B>S?K(B,S,-j,0):K(0,S,j,0)).getYForX(B);return le>x&&(te=g(W,.5)),le<x&&(te=T(W,.5)),te}function z(){f=!0,v=E}return{think:O,stopCar:z,get frontCar(){return d},get car(){return e},get currentTask(){return u},get distance(){return ae(d.car,e)[1]},get TTC(){return d?ae(d.car,e)[1]/e.state.speed:null},get TTI(){return d?ae(d.car,e)[1]/Math.max(e.state.speed-d.speed,1):null},get plannedSpeedCurve(){return D}}}function K(e,t,r,i){if(e>t){let n=e;e=t,t=n;let a=r;r=i,i=a}return{getYForX(n){if(n<e)return r;if(n>t)return i;let a=e-t,o=(e-n)/a,c=r-i;return r-o*c}}}function ft(e,t){let r,i=1e4,n=1e4;for(var a=0;a<t.length;a++){if(t[a].id===e.id)continue;let[s,o]=ae(t[a],e);s>0&&s<i&&(r=t[a],i=s,n=o)}return r?{car:r,distance:n,speed:r.state.speed}:null}function ae(e,t){let r=e.state.position-t.state.position,i=r-e.props.length/2e3-t.props.length/2e3;return[r,i]}function we(e){let t=0;return{tickAtInterval:(r,i)=>r-t>=e?(t=r,i&&i(),!0):!1}}function ut(e){let t,r,i,n,a,s,o,c,l,f,v,h;const E=e[5].default,d=Ve(E,e,e[4],null);return{c(){t=P("div"),r=P("div"),i=P("h1"),n=G(e[0]),a=$(),s=P("img"),c=$(),l=P("p"),f=G(e[1]),v=$(),d&&d.c(),this.h()},l(u){t=y(u,"DIV",{class:!0});var _=F(t);r=y(_,"DIV",{class:!0});var b=F(r);i=y(b,"H1",{});var A=F(i);n=Y(A,e[0]),A.forEach(L),a=w(b),s=y(b,"IMG",{src:!0,class:!0}),c=w(b),l=y(b,"P",{class:!0});var N=F(l);f=Y(N,e[1]),N.forEach(L),v=w(b),d&&d.l(b),b.forEach(L),_.forEach(L),this.h()},h(){Te(s.src,o="images/"+e[2])||I(s,"src",o),I(s,"class","svelte-1g3yeik"),I(l,"class","date svelte-1g3yeik"),I(r,"class","article-container"),I(t,"class","article svelte-1g3yeik")},m(u,_){re(u,t,_),p(t,r),p(r,i),p(i,n),p(r,a),p(r,s),p(r,c),p(r,l),p(l,f),p(r,v),d&&d.m(r,null),h=!0},p(u,[_]){(!h||_&1)&&Ee(n,u[0]),(!h||_&4&&!Te(s.src,o="images/"+u[2]))&&I(s,"src",o),(!h||_&2)&&Ee(f,u[1]),d&&d.p&&(!h||_&16)&&ze(d,E,u,u[4],h?je(E,u[4],_,null):Ue(u[4]),null)},i(u){h||(U(d,u),h=!0)},o(u){H(d,u),h=!1},d(u){u&&L(t),d&&d.d(u)}}}function dt(e,t,r){let{$$slots:i={},$$scope:n}=t,{title:a}=t,{author:s}=t,{date:o}=t,{image:c}=t;return e.$$set=l=>{"title"in l&&r(0,a=l.title),"author"in l&&r(3,s=l.author),"date"in l&&r(1,o=l.date),"image"in l&&r(2,c=l.image),"$$scope"in l&&r(4,n=l.$$scope)},[a,o,c,s,n,i]}class ht extends se{constructor(t){super(),oe(this,t,dt,ut,ie,{title:0,author:3,date:1,image:2})}}const Be="2dassets/";function mt(e,t){let r=e.getContext("2d"),i=[],n=_e("TrafficScenePixelArt");const a=Me(0,0);a.addChild(Se(0,-8,"background/background_city.png")),i.push(a);const s=Me(0,30);s.addChild(pt()),s.addChild(Se(0,-18,"background/road_border.png")),i.push(s),t.cars.forEach(h=>{s.addChild(Ae(h))}),f(),t.on("car_created",o);function o(h){console.log("simulation has a new car",h),s.addChild(Ae(h))}function c(h){n.measureStart(),r.clearRect(0,0,e.width,e.height),a.move(-.1,0),s.move(-.3,0),i.forEach(E=>{E.animate(h)}),i.forEach(E=>{E.draw(r)}),l=requestAnimationFrame(c),n.measureEnd()}var l;function f(){l||(l=requestAnimationFrame(c))}function v(){cancelAnimationFrame(l)}return{start:f,stop:v,debug:{perf:n}}}function pt(){var e=960,t=3,r=12,i=15,n=30,a="#FFF42D",s="#302E37";function o(l,f,v){var h=Math.floor(f),E=Math.floor(v);l.translate(0,.5),l.fillStyle=s;var d=t*r+(t+1);l.fillRect(0,E,e,d),l.strokeStyle=a,l.lineWidth=1,l.beginPath(),l.moveTo(h,E),l.lineTo(e,E),l.stroke(),l.beginPath();for(var u=1;u<t;u++){l.setLineDash([i,n]);var _=u*(r+1);l.moveTo(h,E+_),l.lineTo(e,E+_)}l.stroke(),l.setLineDash([]),l.beginPath(),l.moveTo(h,E+d),l.lineTo(e,E+d),l.stroke(),l.translate(0,-.5)}function c(l){}return{animate:c,draw:o}}function Ae(e){var t=new Image;const r=["landroverDefender","teslaCybertruck","citroenC15"],i=Math.floor(Math.random()*r.length);t.src=Be+r[i]+".png",t.onload=function(){};var n={x:0,y:0};function a(o){}function s(o,c,l){n.x=e.state.position*10,o.drawImage(t,Math.floor(n.x)+c,n.y+41-t.height)}return{animate:a,draw:s}}function Me(e,t){var r=[];function i(o){r.forEach(c=>c.animate(o))}function n(o){r.push(o)}function a(o,c){e+=o,t+=c}function s(o,c=0,l=0){r.forEach(f=>f.draw(o,c+e,l+t))}return{animate:i,draw:s,addChild:n,move:a}}function Se(e,t,r){var i=new Image;i.src=Be+r;var n=960;function a(o,c,l){for(var f=e+c,v=t+l;f<n;)o.drawImage(i,f,v),f+=100}function s(){}return{draw:a,animate:s}}function _t(e){let t,r,i,n,a;return n=new ge({props:{debugPerf:e[1]}}),{c(){t=P("div"),r=P("canvas"),i=$(),Q(n.$$.fragment),this.h()},l(s){t=y(s,"DIV",{});var o=F(t);r=y(o,"CANVAS",{width:!0,height:!0,class:!0}),F(r).forEach(L),i=w(o),Z(n.$$.fragment,o),o.forEach(L),this.h()},h(){I(r,"width","960"),I(r,"height","100"),I(r,"class","svelte-63pr4t")},m(s,o){re(s,t,o),p(t,r),e[3](r),p(t,i),J(n,t,null),a=!0},p(s,[o]){const c={};o&2&&(c.debugPerf=s[1]),n.$set(c)},i(s){a||(U(n.$$.fragment,s),a=!0)},o(s){H(n.$$.fragment,s),a=!1},d(s){s&&L(t),e[3](null),ee(n)}}}function gt(e,t,r){let{traffic_sim:i}=t,n,a,s;me(()=>{s=mt(n,i),r(1,a=s.debug.perf)}),pe(()=>{s&&s.stop()});function o(c){ke[c?"unshift":"push"](()=>{n=c,r(0,n)})}return e.$$set=c=>{"traffic_sim"in c&&r(2,i=c.traffic_sim)},[n,a,i,o]}class vt extends se{constructor(t){super(),oe(this,t,gt,_t,ie,{traffic_sim:2})}}var Tt=1e-6,Pe=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function ye(){var e=new Pe(16);return Pe!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Et(e,t,r){var i=r[0],n=r[1],a=r[2],s,o,c,l,f,v,h,E,d,u,_,b;return t===e?(e[12]=t[0]*i+t[4]*n+t[8]*a+t[12],e[13]=t[1]*i+t[5]*n+t[9]*a+t[13],e[14]=t[2]*i+t[6]*n+t[10]*a+t[14],e[15]=t[3]*i+t[7]*n+t[11]*a+t[15]):(s=t[0],o=t[1],c=t[2],l=t[3],f=t[4],v=t[5],h=t[6],E=t[7],d=t[8],u=t[9],_=t[10],b=t[11],e[0]=s,e[1]=o,e[2]=c,e[3]=l,e[4]=f,e[5]=v,e[6]=h,e[7]=E,e[8]=d,e[9]=u,e[10]=_,e[11]=b,e[12]=s*i+f*n+d*a+t[12],e[13]=o*i+v*n+u*a+t[13],e[14]=c*i+h*n+_*a+t[14],e[15]=l*i+E*n+b*a+t[15]),e}function It(e,t,r,i){var n=i[0],a=i[1],s=i[2],o=Math.hypot(n,a,s),c,l,f,v,h,E,d,u,_,b,A,N,D,k,O,C,m,V,g,T,R,M,z,S;return o<Tt?null:(o=1/o,n*=o,a*=o,s*=o,c=Math.sin(r),l=Math.cos(r),f=1-l,v=t[0],h=t[1],E=t[2],d=t[3],u=t[4],_=t[5],b=t[6],A=t[7],N=t[8],D=t[9],k=t[10],O=t[11],C=n*n*f+l,m=a*n*f+s*c,V=s*n*f-a*c,g=n*a*f-s*c,T=a*a*f+l,R=s*a*f+n*c,M=n*s*f+a*c,z=a*s*f-n*c,S=s*s*f+l,e[0]=v*C+u*m+N*V,e[1]=h*C+_*m+D*V,e[2]=E*C+b*m+k*V,e[3]=d*C+A*m+O*V,e[4]=v*g+u*T+N*R,e[5]=h*g+_*T+D*R,e[6]=E*g+b*T+k*R,e[7]=d*g+A*T+O*R,e[8]=v*M+u*z+N*S,e[9]=h*M+_*z+D*S,e[10]=E*M+b*z+k*S,e[11]=d*M+A*z+O*S,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function bt(e,t,r,i,n){var a=1/Math.tan(t/2),s;return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,n!=null&&n!==1/0?(s=1/(i-n),e[10]=(n+i)*s,e[14]=2*n*i*s):(e[10]=-1,e[14]=-2*i),e}var Ct=bt;const At=`
    attribute vec4 aVertexPosition;
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;
    void main() {
      gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;
    }
  `,Mt=`
  void main() {
    gl_FragColor = vec4(0.97, 0.37, 0.53, 1.0);
  }
`;function St(e){const t=e.getContext("webgl",{antialias:!1});let r=_e("BackgroundWebGL");if(t===null){console.error("Unable to initialize WebGL. Your browser or machine may not support it.");return}const i=Pt(t,At,Mt),n={program:i,attribLocations:{vertexPosition:t.getAttribLocation(i,"aVertexPosition")},uniformLocations:{projectionMatrix:t.getUniformLocation(i,"uProjectionMatrix"),modelViewMatrix:t.getUniformLocation(i,"uModelViewMatrix")}};t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT);const{vertices:a}=Rt(),s=yt(t,a);let o=0,c=0,l=0,f=.05;function v(h){h*=.001,l=h-o,o=h,r.measureStart(),Lt(t,n,s,a.length/2,c),c+=l*f,r.measureEnd(),requestAnimationFrame(v)}return requestAnimationFrame(v),{debug:{perf:r},destroy:()=>{}}}function Pt(e,t,r){const i=Ne(e,e.VERTEX_SHADER,t),n=Ne(e,e.FRAGMENT_SHADER,r),a=e.createProgram();return e.attachShader(a,i),e.attachShader(a,n),e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS)?a:(alert(`Unable to initialize the shader program: ${e.getProgramInfoLog(a)}`),null)}function Ne(e,t,r){const i=e.createShader(t);return e.shaderSource(i,r),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS)?i:(alert(`An error occurred compiling the shaders: ${e.getShaderInfoLog(i)}`),e.deleteShader(i),null)}function yt(e,t){return{position:Nt(e,t)}}function Nt(e,t){const r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r);const i=t;return e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW),r}function Lt(e,t,r,i=5,n=0){e.clearColor(1,1,1,1),e.clearDepth(1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);const a=45*Math.PI/180,s=e.canvas.clientWidth/e.canvas.clientHeight,o=.1,c=100,l=ye();Ct(l,a,s,o,c);const f=ye();Et(f,f,[-0,0,-6]),It(f,f,n,[.7,.2,1]),Dt(e,r,t),e.useProgram(t.program),e.uniformMatrix4fv(t.uniformLocations.projectionMatrix,!1,l),e.uniformMatrix4fv(t.uniformLocations.modelViewMatrix,!1,f),e.drawArrays(e.LINE_STRIP,0,i)}function Dt(e,t,r){const n=e.FLOAT,a=!1,s=0,o=0;e.bindBuffer(e.ARRAY_BUFFER,t.position),e.vertexAttribPointer(r.attribLocations.vertexPosition,2,n,a,s,o),e.enableVertexAttribArray(r.attribLocations.vertexPosition)}function Rt(){const r=[];for(let i=0;i<=10;i++){const n=i/10*3-1.5,a=i/10*3-3/2,s=-3/2,o=3/2;Le(i)?r.push(n,s,a,o):r.push(n,o,a,s)}for(let i=0;i<=10;i++){const s=i/10*3-1.5,o=i/10*3-3/2;Le(i)?r.push(1.5,s,-1.5,o):r.push(-1.5,s,1.5,o)}return{vertices:r}}function Le(e){return e%2==0}function kt(e){let t,r,i,n,a,s;return a=new ge({props:{debugPerf:e[1]}}),{c(){t=P("div"),r=P("canvas"),i=$(),n=P("div"),Q(a.$$.fragment),this.h()},l(o){t=y(o,"DIV",{class:!0});var c=F(t);r=y(c,"CANVAS",{width:!0,height:!0,class:!0}),F(r).forEach(L),i=w(c),n=y(c,"DIV",{style:!0});var l=F(n);Z(a.$$.fragment,l),l.forEach(L),c.forEach(L),this.h()},h(){I(r,"width","480"),I(r,"height","480"),I(r,"class","svelte-76eo7s"),He(n,"display","none"),I(t,"class","background svelte-76eo7s")},m(o,c){re(o,t,c),p(t,r),e[2](r),p(t,i),p(t,n),J(a,n,null),s=!0},p(o,[c]){const l={};c&2&&(l.debugPerf=o[1]),a.$set(l)},i(o){s||(U(a.$$.fragment,o),s=!0)},o(o){H(a.$$.fragment,o),s=!1},d(o){o&&L(t),e[2](null),ee(a)}}}function Ft(e,t,r){let i,n,a;me(()=>{n=St(i),r(1,a=n.debug.perf)}),pe(()=>{n&&n.destroy()});function s(o){ke[o?"unshift":"push"](()=>{i=o,r(0,i)})}return[i,a,s]}class $t extends se{constructor(t){super(),oe(this,t,Ft,kt,ie,{})}}function De(e,t,r){const i=e.slice();return i[3]=t[r],i}function wt(e){let t,r=e[3].content+"",i;return{c(){t=new We(!1),i=$(),this.h()},l(n){t=qe(n,!1),i=w(n),this.h()},h(){t.a=i},m(n,a){t.m(r,n,a),re(n,i,a)},p(n,a){a&1&&r!==(r=n[3].content+"")&&t.p(r)},d(n){n&&(t.d(),L(i))}}}function Re(e){let t,r;const i=[e[3].frontmatter];let n={$$slots:{default:[wt]},$$scope:{ctx:e}};for(let a=0;a<i.length;a+=1)n=Ye(n,i[a]);return t=new ht({props:n}),{c(){Q(t.$$.fragment)},l(a){Z(t.$$.fragment,a)},m(a,s){J(t,a,s),r=!0},p(a,s){const o=s&1?rt(i,[nt(a[3].frontmatter)]):{};s&65&&(o.$$scope={dirty:s,ctx:a}),t.$set(o)},i(a){r||(U(t.$$.fragment,a),r=!0)},o(a){H(t.$$.fragment,a),r=!1},d(a){ee(t,a)}}}function Bt(e){let t,r,i,n,a,s,o='<h1 class="svelte-2ryyjr"><img src="title8.png" alt="AutoWaves" class="svelte-2ryyjr"/></h1>',c,l,f,v,h,E='<a class="button svelte-2ryyjr" href="cars">cars list</a> <a class="button svelte-2ryyjr" href="about">about</a>',d,u,_,b,A,N,D,k,O;r=new vt({props:{traffic_sim:e[2]}}),n=new ge({props:{debugPerf:e[1],top:"130px"}}),f=new ot({});let C=be(e[0].articles),m=[];for(let g=0;g<C.length;g+=1)m[g]=Re(De(e,C,g));const V=g=>H(m[g],1,1,()=>{m[g]=null});return k=new $t({}),{c(){t=P("main"),Q(r.$$.fragment),i=$(),Q(n.$$.fragment),a=$(),s=P("div"),s.innerHTML=o,c=$(),l=P("div"),Q(f.$$.fragment),v=$(),h=P("div"),h.innerHTML=E,d=$(),u=P("div"),_=G("v "),b=G(Ce),A=$(),N=P("div");for(let g=0;g<m.length;g+=1)m[g].c();D=$(),Q(k.$$.fragment),this.h()},l(g){t=y(g,"MAIN",{class:!0});var T=F(t);Z(r.$$.fragment,T),i=w(T),Z(n.$$.fragment,T),a=w(T),s=y(T,"DIV",{class:!0,"data-svelte-h":!0}),Ie(s)!=="svelte-1m2co8p"&&(s.innerHTML=o),c=w(T),l=y(T,"DIV",{id:!0,class:!0});var R=F(l);Z(f.$$.fragment,R),R.forEach(L),v=w(T),h=y(T,"DIV",{id:!0,"data-svelte-h":!0}),Ie(h)!=="svelte-1c4abwl"&&(h.innerHTML=E),d=w(T),u=y(T,"DIV",{id:!0,class:!0});var M=F(u);_=Y(M,"v "),b=Y(M,Ce),M.forEach(L),A=w(T),N=y(T,"DIV",{id:!0});var z=F(N);for(let S=0;S<m.length;S+=1)m[S].l(z);z.forEach(L),D=w(T),Z(k.$$.fragment,T),T.forEach(L),this.h()},h(){I(s,"class","app-title svelte-2ryyjr"),I(l,"id","tools"),I(l,"class","svelte-2ryyjr"),I(h,"id","menu"),I(u,"id","footer"),I(u,"class","svelte-2ryyjr"),I(N,"id","articles"),I(t,"class","svelte-2ryyjr")},m(g,T){re(g,t,T),J(r,t,null),p(t,i),J(n,t,null),p(t,a),p(t,s),p(t,c),p(t,l),J(f,l,null),p(t,v),p(t,h),p(t,d),p(t,u),p(u,_),p(u,b),p(t,A),p(t,N);for(let R=0;R<m.length;R+=1)m[R]&&m[R].m(N,null);p(t,D),J(k,t,null),O=!0},p(g,[T]){const R={};if(T&2&&(R.debugPerf=g[1]),n.$set(R),T&1){C=be(g[0].articles);let M;for(M=0;M<C.length;M+=1){const z=De(g,C,M);m[M]?(m[M].p(z,T),U(m[M],1)):(m[M]=Re(z),m[M].c(),U(m[M],1),m[M].m(N,null))}for(Xe(),M=C.length;M<m.length;M+=1)V(M);xe()}},i(g){if(!O){U(r.$$.fragment,g),U(n.$$.fragment,g),U(f.$$.fragment,g);for(let T=0;T<C.length;T+=1)U(m[T]);U(k.$$.fragment,g),O=!0}},o(g){H(r.$$.fragment,g),H(n.$$.fragment,g),H(f.$$.fragment,g),m=m.filter(Boolean);for(let T=0;T<m.length;T+=1)H(m[T]);H(k.$$.fragment,g),O=!1},d(g){g&&L(t),ee(r),ee(n),ee(f),Ge(m,g),ee(k)}}}function Ot(e,t,r){let{data:i}=t,n=lt(),a;return me(()=>{n.start(),r(1,a=n.debug.perf)}),pe(()=>{n&&n.stop()}),e.$$set=s=>{"data"in s&&r(0,i=s.data)},[i,a,n]}class Xt extends se{constructor(t){super(),oe(this,t,Ot,Bt,ie,{data:0})}}export{Xt as component};
